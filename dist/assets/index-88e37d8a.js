import{a as s}from"./react-31052980.js";import{f as c,q as aa,bO as na,bP as ea,_ as A,bQ as ta,bR as la,C as S,bv as $,D as b,a9 as ia,a0 as oa,a1 as ca,bK as da,$ as F,bL as r,a2 as ha,bH as ma,d as sa,U as ga,W as ra,bM as xa,c as u}from"./main-1d195725.js";import{d as fa}from"./EmailTwoTone-55f26935.js";import{d as H}from"./WhatsApp-ed647a29.js";import{d as Y}from"./LocalPhone-8071971f.js";import{d as va,c as ba,a as pa,b as ua}from"./Place-4d5588ec.js";import{L as f}from"./index-4db24ebd.js";import{T as Ca}from"./index-27986fb2.js";import{d as N}from"./DoneTwoTone-e633843d.js";import{a as t,F as W,j as n}from"./index-a4114ef4.js";import{d as q,h as wa}from"./chevron-left-00fe92ff.js";import{I as Pa,T as i}from"./TextField-d5ff1ee4.js";import{C as Sa}from"./CardMedia-735a4c1b.js";import{E as _,K as $a,aM as Ia,aK as j,aL as Aa,ae as Wa}from"./freelancerSlice-60742dc0.js";import{d as D}from"./ShoppingBagTwoTone-708db889.js";import{h as _a}from"./moment-fbc5633a.js";import{d as Ta}from"./SearchTwoTone-880281d3.js";import{M as La}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";const ka=({user:a,id:h})=>{var d;return q(),t(W,{children:[t(c,{display:"flex",children:[n(aa,{arrow:!0,placement:"top",title:"User Id ",children:t(Pa,{color:"primary",sx:{mr:2},children:[n(va,{}),n(i,{variant:"h1",component:"h1",gutterBottom:!0,children:h})]})}),n(c,{children:t(i,{variant:"h2",component:"h2",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[n("span",{children:"Profile of"}),n(i,{variant:"h3",color:"primary",children:a==null?void 0:a.name})]})})]}),n(na,{children:n(Sa,{image:ba})}),n(ea,{children:n(A,{variant:"rounded",alt:a==null?void 0:a.name,src:a==null?void 0:a.name})}),t(c,{py:2,pl:2,mb:3,children:[t(i,{component:"a",href:`mailto:${a==null?void 0:a.email_old}`,variant:"h4",children:[n(fa,{color:"primary",sx:{mr:1}}),a==null?void 0:a.email_old]}),n(Ca,{color:"black",children:t("b",{children:[(a==null?void 0:a.status)==="Active"?n(f,{color:"success",children:"Active"}):null,(a==null?void 0:a.status)==="InActive"?n(f,{color:"error",children:"Inactive"}):null]})}),t(i,{sx:{py:2},variant:"subtitle2",color:"text.primary",children:[t("a",{href:`tel:${a==null?void 0:a.number}`,className:"text-decoration-none cursor-pointer",children:[n(Y,{color:"primary",sx:{mr:1}})," ",a==null?void 0:a.number]})," ","|",t("a",{href:`https://wa.me/${91}${a==null?void 0:a.number_whatsapp}?text=Hi%20I%20am%20interested%20in%20your%20services%20and%20would%20like%20to%20know%20more%20about%20it.`,className:"text-decoration-none cursor-pointer",children:[n(H,{color:"success",sx:{mx:1}}),a==null?void 0:a.number_whatsapp]})," ","|",(a==null?void 0:a.role)==="admin"?n(ta,{color:"secondary",sx:{ml:1}}):n(la,{color:"secondary",sx:{ml:1}})," ",(d=a==null?void 0:a.role)==null?void 0:d.toUpperCase()]}),(a==null?void 0:a.is_technical)==="1"?t(f,{color:"primary",children:[n(N,{fontSize:"small"}),n("b",{children:"Technical"})]}):null,(a==null?void 0:a.is_non_technical)==="1"?t(f,{color:"primary",sx:{mx:1},children:[n(N,{fontSize:"small"}),n("b",{children:"Non Technical"})]}):null]})]})};_(A)(({theme:a})=>`
      background: ${a.colors.primary.lighter};
      color: ${a.colors.primary.main};
      width: ${a.spacing(7)};
      height: ${a.spacing(7)};
`);function Ma({user:a}){return s.useState("a"),t(S,{children:[n($,{title:"\r Saved Address"}),n(b,{}),n(c,{p:2,display:"flex",alignItems:"center",children:t(S,{sx:{width:"100%"},children:[n($,{title:t(i,{variant:"h5",fontWeight:"bold",children:[n(pa,{color:"primary",sx:{mr:1}}),"Current Address"]})}),n(b,{}),t(c,{p:2,children:[t(i,{variant:"caption",fontWeight:"bold",children:["Country: ","India"]}),n("br",{}),n(i,{variant:"caption",fontWeight:"bold",children:"Country Code: (+91)"}),t(c,{py:2,sx:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start"},children:[t(i,{variant:"h5",children:[n(ua,{color:"primary",sx:{mr:1}}),a==null?void 0:a.city]}),t(i,{component:"a",href:`tel:${a==null?void 0:a.number}`,variant:"h5",sx:{py:1},fontWeight:"normal",children:[n(Y,{color:"primary",sx:{mr:1}})," ",a==null?void 0:a.number]}),t(i,{component:"a",href:`https://wa.me/${91}${a==null?void 0:a.number_whatsapp}`,variant:"h5",sx:{py:1},fontWeight:"normal",children:[n(H,{color:"success",sx:{mr:1}}),a==null?void 0:a.number_whatsapp]})]})]})]})})]})}const E=_(A)(({theme:a})=>`
      background: ${a.colors.primary.lighter};
      color: ${a.colors.primary.main};
      width: ${a.spacing(7)};
      height: ${a.spacing(7)};
`);function Ba({user:a}){return $a(),t(S,{sx:{height:"100%"},children:[n($,{title:"Recent Activity"}),n(b,{}),t(c,{px:2,py:2,display:"flex",alignItems:"flex-start",children:[n(E,{children:n(D,{})}),t(c,{pl:2,flex:1,children:[n(i,{variant:"h3",children:"Total Inquiry Count"}),n(c,{display:"flex",children:n(c,{pr:8,children:n(i,{variant:"h2",children:a==null?void 0:a.totalinquirycount})})})]})]}),n(b,{}),t(c,{px:2,py:4,display:"flex",alignItems:"flex-start",children:[n(E,{children:n(D,{})}),t(c,{pl:2,flex:1,children:[n(i,{variant:"h3",children:"Completed"}),n(c,{display:"flex",children:n(c,{pr:8,children:n(i,{variant:"h2",children:a==null?void 0:a.completed})})})]})]}),n(b,{})]})}const Ra=_(Ia)(({theme:a})=>`
    background-color: ${a.colors.alpha.white[100]};
    padding-right: ${a.spacing(.7)}
`),Ua=a=>{const h={Posted:{text:"Posted",color:"primary"},"Under Process":{text:"Under Process",color:"warning"},Lost:{text:"Lost",color:"error"},"Assigned to PM":{text:"Assigned to PM",color:"primary"},"Assigned to Freelancer":{text:"Assigned to Freelancer",color:"success"},Completed:{text:"Completed",color:"black"},"Review Received":{text:"Review Received",color:"info"}},{text:d,color:g}=h[a];return n(f,{color:g,children:d})},Fa=(a,h,d)=>(a==null?void 0:a.length)>0?a==null?void 0:a.slice(h*d,h*d+d):[];function Na({cryptoOrders:a}){const h=q(),[d,g]=s.useState("title"),[v,m]=s.useState([]),T=v.length>0,[L,K]=s.useState(0),[k,z]=s.useState(50),[C,G]=s.useState({status:null}),[w,Q]=s.useState({search:null}),J=[{id:"all",name:"All"},{id:"Posted",name:"Posted"},{id:"Under Process",name:"Under Process"},{id:"Assigned to PM",name:"Assigned to PM"},{id:"Assigned to Freelancer",name:"Assigned to Freelancer"},{id:"Completed",name:"Completed"},{id:"Review Received",name:"Review Received"},{id:"Lost",name:"Lost"}],M=(e,l)=>e==null?void 0:e.filter(o=>{var p,B,R,U;let x=!0;return l!=null&&l.status&&(o==null?void 0:o.status)!==(l==null?void 0:l.status)&&(x=!1),d==="title"?l!=null&&l.search&&!((B=o==null?void 0:o.title)!=null&&B.toLowerCase().includes((p=l==null?void 0:l.search)==null?void 0:p.toLowerCase()))&&(x=!1):d==="desc"&&l!=null&&l.search&&!((U=o==null?void 0:o.description)!=null&&U.toLowerCase().includes((R=l==null?void 0:l.search)==null?void 0:R.toLowerCase()))&&(x=!1),x}),V=e=>{let l=null;e.target.value!=="all"&&(l=e.target.value),e.target.value==="all"&&(l=null),G(o=>({...o,status:l}))},X=(e,l)=>{K(l)},Z=e=>{z(parseInt(e.target.value))},P=M(a,C),y=M(P,w),I=Fa(y,L,k),O=e=>{let l=null;e.target.value!==""&&(l=e.target.value),e.target.value===""&&(l=null),Q(o=>({...o,search:l}))};return n(W,{children:t(S,{children:[T&&n(c,{flex:1,p:2,children:n(BulkActions,{})}),!T&&n($,{action:n("div",{className:"flex items-start md:justify-end md:w-[35rem] w-[20rem]",children:n("div",{className:"flex items-center justify-start w-2/3 ",children:t(j,{fullWidth:!0,variant:"outlined",children:[n(Aa,{children:"Status"}),n(Wa,{value:(C==null?void 0:C.status)||"all",onChange:V,label:"Status",autoWidth:!0,children:J.map(e=>n(La,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))})]})})})}),n(j,{variant:"outlined",fullWidth:!0,sx:{p:2},children:n(Ra,{type:"text",value:(w==null?void 0:w.search)||"",onChange:O,placeholder:"Search text here...",startAdornment:t(ia,{position:"start",children:[n(Ta,{}),t("div",{className:"flex gap-2",children:[n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Title"),g("title")},color:d==="title"?"success":"info",children:"Title"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Desc"),g("desc")},color:d==="desc"?"success":"info",children:"Desc"})]})]})})}),n(b,{}),n(oa,{children:t(ca,{children:[n(da,{children:t(F,{children:[n(r,{children:"Assignment ID"}),n(r,{children:"Title"}),n(r,{children:"Budget"}),n(r,{children:"Status"})]})}),n(ha,{children:I==null?void 0:I.map(e=>{var o,x,p;const l=v==null?void 0:v.includes(e==null?void 0:e.id);return t(F,{hover:!0,selected:l,children:[t(r,{children:[n(i,{sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>h(`/team/management/assignments/details/${e==null?void 0:e.id}`),color:"#3f51b5",children:e==null?void 0:e.id}),n(i,{variant:"body2",color:"text.secondary",noWrap:!0,children:_a(e==null?void 0:e.deadline).format("MMMM Do YYYY, h:mm:ss a")})]}),t(r,{sx:{maxWidth:"430px",wordBreak:"break-words"},children:[n(i,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e==null?void 0:e.title}),n(i,{variant:"body2",color:"text.secondary",sx:{maxWidth:"430px"},children:((o=e==null?void 0:e.description)==null?void 0:o.length)>350?((x=e==null?void 0:e.description)==null?void 0:x.slice(0,350))+"...":e==null?void 0:e.description})]}),n(r,{children:t(i,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,children:["â‚¹",(p=e==null?void 0:e.budget)==null?void 0:p.toLocaleString("en-US",{style:"currency",currency:"INR"})]})}),n(r,{children:n(i,{variant:"body1",fontWeight:"bold",gutterBottom:!0,whiteSpace:"nowrap",children:(e==null?void 0:e.status)===""?null:Ua(e==null?void 0:e.status)})})]},e==null?void 0:e.id)})})]})}),n(c,{p:2,children:n(ma,{component:"div",count:P==null?void 0:P.length,onPageChange:X,onRowsPerPageChange:Z,page:L,rowsPerPage:k,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]})})}function ln(){const{id:a}=wa();s.useEffect(()=>{localStorage.setItem("currentId",a)},[a]);const[h,d]=s.useState({}),[g,v]=s.useState([]);return s.useEffect(()=>{sa.get(`${ga}/team/pmdetails.php?pm_id=${a}`).then(m=>{d(m==null?void 0:m.data[0]),v(m==null?void 0:m.data[1]),console.log(m==null?void 0:m.data)}).catch(m=>{console.log(m)})},[a]),t(W,{children:[n(ra,{children:n("title",{children:" Profile | PM "})}),n(xa,{sx:{mt:3},maxWidth:"lg",children:t(u,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:[n(u,{item:!0,xs:12,md:12,children:n(ka,{user:h,id:a,userWork:g})}),n(u,{item:!0,xs:12,md:7,children:n(Ma,{user:h,userWork:g})}),n(u,{item:!0,xs:12,md:5,children:n(Ba,{user:h,userWork:g})}),n(u,{item:!0,xs:12,md:12,children:n(Na,{user:h,cryptoOrders:g})})]})})]})}export{ln as default};
