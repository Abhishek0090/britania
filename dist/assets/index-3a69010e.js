import{s as R,c as g,a3 as _,C,bv as D,f as w,D as K,a0 as J,a1 as U,bK as z,$ as T,bL as i,a2 as G,bH as q,d as Q,U as V,W as X,ba as Y,bM as Z}from"./main-1d195725.js";import{u as d,j as e,a as h,F as $}from"./index-a4114ef4.js";import{T as m,I as p}from"./TextField-d5ff1ee4.js";import{a as o}from"./react-31052980.js";import{d as r,b as y}from"./chevron-left-00fe92ff.js";import"./numeral-1ca84eab.js";import"./moment-fbc5633a.js";import{L as B}from"./index-4db24ebd.js";import{E as O,K as aa,aK as ea,aL as na,ae as ta}from"./freelancerSlice-60742dc0.js";import{M as la}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";function ia(){var t;const n=d(R),l={name:(t=n==null?void 0:n.teamData)==null?void 0:t.name,avatar:"/static/images/avatars/1.jpg"};return e(g,{container:!0,justifyContent:"space-between",alignItems:"center",children:h(g,{item:!0,children:[e(m,{variant:"h3",component:"h3",gutterBottom:!0,children:"All PMs"}),h(m,{variant:"subtitle2",children:[l.name,", these are all the PMs."]})]})})}O(_)(({theme:n})=>`
     background: ${n.colors.error.main};
     color: ${n.palette.error.contrastText};

     &:hover {
        background: ${n.colors.error.dark};
     }
    `);const ua=(n,l,t)=>(n==null?void 0:n.length)>0?n==null?void 0:n.slice(l*t,l*t+t):[],ha=(n,l)=>n==null?void 0:n.filter(t=>{let c=!0;return l!=null&&l.status&&(t==null?void 0:t.status)!==(l==null?void 0:l.status)&&(c=!1),c}),ma=({cryptoOrders:n})=>{const l=r(),[t,c]=o.useState([]),L=t.length>0,[I,M]=o.useState(0),S=y().pathname.split("/pm")[1],[P,j]=o.useState(50),[s,v]=o.useState({status:null}),x=localStorage.getItem("currentId");o.useEffect(()=>{if(localStorage.getItem("status")){let a=JSON.parse(localStorage.getItem("status"));Object.values(a).forEach((u,A)=>{v(f=>({...f,status:u}))})}},[S]),o.useEffect(()=>{x||(localStorage.removeItem("status"),localStorage.removeItem("currentId"),localStorage.removeItem("search"),localStorage.removeItem("stream"),localStorage.removeItem("searchOption"),v(a=>({...a,status:null})))},[S,x]);const k=[{id:"all",name:"All"},{id:"Active",name:"Active"},{id:"InActive",name:"InActive"}],E=a=>{let u=null;a.target.value!=="all"&&(u=a.target.value),a.target.value==="all"&&(u=null),v(f=>({...f,status:u})),console.log(a.target.value);let A=JSON.stringify({status:a.target.value});localStorage.setItem("status",A)},F=(a,u)=>{M(u)},H=a=>{j(parseInt(a.target.value))},N=ha(n,s),b=ua(N,I,P);(t==null?void 0:t.length)>0&&(t==null?void 0:t.length)<(n==null?void 0:n.length),t==null||t.length,n==null||n.length;const W=aa();return e($,{children:(n==null?void 0:n.length)>0?h(C,{children:[!L&&e(D,{action:e(w,{width:200,display:"flex",justifyContent:"space-between",alignItems:"center",children:h(ea,{fullWidth:!0,variant:"outlined",children:[e(na,{children:"Status"}),e(ta,{value:(s==null?void 0:s.status)||"all",onChange:E,label:"Status",autoWidth:!0,children:k.map(a=>e(la,{value:a==null?void 0:a.id,children:a==null?void 0:a.name},a==null?void 0:a.id))})]})}),title:"All PM"}),e(K,{}),e(J,{children:h(U,{children:[e(z,{children:h(T,{children:[e(i,{children:"ID"}),e(i,{children:"Freelancer Name"}),e(i,{children:"Phone"}),e(i,{children:"Whatsapp"}),e(i,{children:"Email"}),e(i,{children:"Status"})]})}),e(G,{children:b==null?void 0:b.map(a=>{const u=t==null?void 0:t.includes(a==null?void 0:a.id);return h(T,{hover:!0,selected:u,children:[e(i,{children:e(m,{component:"a",variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>{l(`/team/management/pm/details-pm/${a==null?void 0:a.id}`)},sx:{cursor:"pointer"},color:"#3f51b5",children:a==null?void 0:a.id})}),e(i,{children:e(m,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.name})}),e(i,{children:e(m,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`tel: ${a==null?void 0:a.number}`,children:a==null?void 0:a.number})}),e(i,{children:e(m,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`https://wa.me/${a==null?void 0:a.country_code}${a==null?void 0:a.number_whatsapp}?text=Hi%20I%20am%20interested%20in%20your%20services%20and%20would%20like%20to%20know%20more%20about%20it.`,children:a==null?void 0:a.number_whatsapp})}),e(i,{children:e(m,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`mailto: ${a==null?void 0:a.email_old}`,children:a==null?void 0:a.email_old})}),e(i,{children:h(p,{sx:{"&:hover":{background:W.colors.primary.lighter},color:W.palette.primary.main},color:"inherit",size:"small",children:[(a==null?void 0:a.status)==="Active"?e(B,{color:"success",children:"Active"}):null,(a==null?void 0:a.status)==="InActive"?e(B,{color:"error",children:"Inactive"}):null]})})]},a==null?void 0:a.id)})})]})}),e(w,{p:2,children:e(q,{component:"div",count:n==null?void 0:n.length,onPageChange:F,onRowsPerPageChange:H,page:I,rowsPerPage:P,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]}):e(m,{variant:"h3",component:"h3",gutterBottom:!0,children:"No PM Found"})})};function oa(){const[n,l]=o.useState([]);return o.useEffect(()=>{Q.get(`${V}/team/pmtable.php`).then(t=>{console.log(t==null?void 0:t.data),l(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[]),e(C,{children:(n==null?void 0:n.length)>0&&e(ma,{cryptoOrders:n})})}function wa(){return h($,{children:[e(X,{children:e("title",{children:"All PM's"})}),e(Y,{children:e(ia,{})}),e(Z,{maxWidth:"xl",children:e(g,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:e(g,{item:!0,xs:12,children:e(oa,{})})})})]})}export{wa as default};
