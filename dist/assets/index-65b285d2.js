import{s as na,c as d,C as G,f as D,a9 as H,D as ta,a0 as la,a1 as ia,bK as sa,$ as K,bL as o,a2 as ua,bH as ma,d as oa,U as ha,W as ca,ba as ga,bM as Sa}from"./main-1d195725.js";import{u as ba,j as e,a as u,_ as fa,F as va}from"./index-a4114ef4.js";import{T as h}from"./TextField-d5ff1ee4.js";import{a as m}from"./react-31052980.js";import{d as Ca,b as xa}from"./chevron-left-00fe92ff.js";import{d as Ia}from"./SearchTwoTone-880281d3.js";import{d as _a}from"./Stars-f646b600.js";import{L as b}from"./index-4db24ebd.js";import{E as wa,aM as Wa,aK as U,ae as da}from"./freelancerSlice-60742dc0.js";import{M as A}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";function La(){var s;const l=ba(na),c={name:(s=l==null?void 0:l.teamData)==null?void 0:s.name,avatar:"/static/images/avatars/1.jpg"};return e(d,{container:!0,justifyContent:"space-between",alignItems:"center",children:u(d,{item:!0,children:[e(h,{variant:"h3",component:"h3",gutterBottom:!0,children:"All Students"}),u(h,{variant:"subtitle2",children:[c.name,", these are all the students."]})]})})}const Pa=wa(Wa)(({theme:l})=>`
    background-color: ${l.colors.alpha.white[100]};
    padding-right: ${l.spacing(.7)}
`),Ba=(l,c,s)=>(l==null?void 0:l.length)>0?l==null?void 0:l.slice(c*s,c*s+s):[],Na=({cryptoOrders:l})=>{const c=Ca(),[s,_]=m.useState(localStorage.getItem("searchOption")?localStorage.getItem("searchOption"):"name"),[S,L]=m.useState("source"),[w,Ta]=m.useState([]),q=w.length>0,[M,z]=m.useState(0),[E,Q]=m.useState(50),[P,V]=m.useState([]),[B,X]=m.useState([]),[N,Y]=m.useState([]),$=xa().pathname.split("/student")[1],[W,k]=m.useState({search:null}),[Z,p]=m.useState({status:null}),j=localStorage.getItem("currentId");m.useEffect(()=>{if(localStorage.getItem("search")){let a=JSON.parse(localStorage.getItem("search"));Object.values(a).forEach((n,i)=>{k(t=>({...t,search:n}))})}},[$]),m.useEffect(()=>{j||(localStorage.removeItem("search"),localStorage.removeItem("stream"),localStorage.removeItem("status"),localStorage.removeItem("currentId"),localStorage.removeItem("searchOption"),k(a=>({...a,search:null})),p(a=>({...a,status:null})),_("name"))},[$,j]);const F=(a,n)=>a==null?void 0:a.filter(i=>{var g,f,v,C,x,I,J,R;let t=!0;return s==="name"?n!=null&&n.search&&!((f=i==null?void 0:i.firstname)!=null&&f.toLowerCase().includes((g=n==null?void 0:n.search)==null?void 0:g.toLowerCase()))&&(n!=null&&n.search)&&!((C=i==null?void 0:i.lastname)!=null&&C.toLowerCase().includes((v=n==null?void 0:n.search)==null?void 0:v.toLowerCase()))&&(t=!1):s==="number"?n!=null&&n.search&&!((I=i==null?void 0:i.number)!=null&&I.toLowerCase().includes((x=n==null?void 0:n.search)==null?void 0:x.toLowerCase()))&&(t=!1):s==="email"&&n!=null&&n.search&&!((R=i==null?void 0:i.email)!=null&&R.toLowerCase().includes((J=n==null?void 0:n.search)==null?void 0:J.toLowerCase()))&&(t=!1),t}),y=(a,n)=>{z(n)},r=a=>{Q(parseInt(a.target.value))},O=a=>{let n=null;a.target.value!==""&&(n=a.target.value),a.target.value===""&&(n=null),k(t=>({...t,search:n}));let i=JSON.stringify({search:a.target.value});localStorage.setItem("search",i)},aa=F(l,W),ea=F(aa,Z),T=Ba(ea,M,E);return m.useEffect(()=>{let a=[],n=[],i=[];l==null||l.map(t=>{var g,f,v,C,x,I;(g=t==null?void 0:t.utm_data)!=null&&g.utm_source&&a.push((f=t==null?void 0:t.utm_data)==null?void 0:f.utm_source),(v=t==null?void 0:t.utm_data)!=null&&v.utm_medium&&n.push((C=t==null?void 0:t.utm_data)==null?void 0:C.utm_medium),(x=t==null?void 0:t.utm_data)!=null&&x.utm_campaign&&i.push((I=t==null?void 0:t.utm_data)==null?void 0:I.utm_campaign)}),V([...new Set(a)]),X([...new Set(n)]),Y([...new Set(i)])},[l]),u(G,{children:[q&&e(D,{flex:1,p:2,children:e(BulkActions,{})}),u("div",{className:"flex flex-col md:flex-row items-center justify-between p-4 md:px-6",children:[e(U,{variant:"outlined",sx:{p:2,width:{xs:"100%",sm:"auto",md:"80ch"}},children:e(Pa,{type:"text",value:(W==null?void 0:W.search)||"",onChange:O,placeholder:"Search freelancers here...",startAdornment:u(H,{position:"start",children:[e(Ia,{}),u("div",{className:"flex gap-2 ml-2",children:[e(b,{sx:{cursor:"pointer"},onClick:()=>{_("name"),JSON.stringify(localStorage.setItem("searchOption","name"))},color:s==="name"?"success":"info",children:"Name"}),e(b,{sx:{cursor:"pointer"},onClick:()=>{_("number"),JSON.stringify(localStorage.setItem("searchOption","number"))},color:s==="number"?"success":"info",children:"Number"}),e(b,{sx:{cursor:"pointer"},onClick:()=>{_("email"),JSON.stringify(localStorage.setItem("searchOption","email"))},color:s==="email"?"success":"info",children:"Email"})]})]})})}),e(U,{variant:"outlined",sx:{p:2},children:u(da,{value:"",autoWidth:!0,startAdornment:u(H,{position:"start",children:[e(_a,{color:"primary"}),u("div",{className:"flex gap-2 ml-2",children:[e(b,{sx:{cursor:"pointer"},onClick:()=>{L("source")},color:S==="source"?"success":"info",children:"Source"}),e(b,{sx:{cursor:"pointer"},onClick:()=>{L("medium")},color:S==="medium"?"success":"info",children:"Medium"}),e(b,{sx:{cursor:"pointer"},onClick:()=>{L("campaign")},color:S==="campaign"?"success":"info",children:"Campaign"})]})]}),children:[S==="source"&&(P==null?void 0:P.map(a=>e(A,{value:a,children:a},a))),S==="medium"&&(B==null?void 0:B.map(a=>e(A,{value:a,children:a},a))),S==="campaign"&&(N==null?void 0:N.map(a=>e(A,{value:a,children:a},a)))]})})]}),e(ta,{}),e(la,{children:u(ia,{children:[e(sa,{children:u(K,{children:[e(o,{children:"ID"}),e(o,{children:"Name"}),e(o,{children:"Phone"}),e(o,{children:"Country"}),e(o,{children:"Email"}),e(o,{children:"Campaign"})]})}),e(ua,{children:T==null?void 0:T.map(a=>{var i,t,g;const n=w==null?void 0:w.includes(a==null?void 0:a.id);return u(K,{hover:!0,selected:n,children:[e(o,{children:e(h,{component:"a",variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>{c(`/team/management/student/details-student/${a==null?void 0:a.id}`)},sx:{cursor:"pointer"},color:"#3f51b5",children:a==null?void 0:a.id})}),e(o,{children:u(h,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:[a==null?void 0:a.firstname," ",a==null?void 0:a.lastname]})}),e(o,{children:u(h,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`tel: ${a==null?void 0:a.number}`,children:["(+",a==null?void 0:a.country_code," )",a==null?void 0:a.number]})}),e(o,{children:e(h,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.country_name})}),e(o,{children:e(h,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`mailto: ${a==null?void 0:a.email}`,children:a==null?void 0:a.email})}),u(o,{children:[e(h,{sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>c(`/team/management/assignments/details/${a==null?void 0:a.id}`),color:"#3f51b5",children:((i=a==null?void 0:a.utm_data)==null?void 0:i.utm_source)||"Source not found"}),e(h,{variant:"body2",color:"text.secondary",noWrap:!0,children:((t=a==null?void 0:a.utm_data)==null?void 0:t.utm_medium)||"Medium not found"}),e(h,{variant:"body2",color:"text.secondary",noWrap:!0,children:((g=a==null?void 0:a.utm_data)==null?void 0:g.utm_campaign)||"Campaign not found"})]})]},a==null?void 0:a.id)})})]})}),e(D,{p:2,children:e(ma,{component:"div",count:l==null?void 0:l.length,onPageChange:y,onRowsPerPageChange:r,page:M,rowsPerPage:E,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]})};function ka(){const[l,c]=m.useState([]);return m.useEffect(()=>{oa.get(`${ha}/team/studentstable.php`).then(s=>{c(s==null?void 0:s.data)}).catch(s=>{console.log(s),fa.error("Something Went Wrong")})},[]),e(G,{children:(l==null?void 0:l.length)>0&&e(Na,{cryptoOrders:l})})}function Ga(){return u(va,{children:[e(ca,{children:e("title",{children:"All Students"})}),e(ga,{children:e(La,{})}),e(Sa,{maxWidth:"xl",children:e(d,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:e(d,{item:!0,xs:12,children:e(ka,{})})})})]})}export{Ga as default};
