import{s as Y,c as W,a3 as x,C as M,bv as K,f as k,D as U,a0 as G,a1 as q,bK as J,$ as B,bL as u,a2 as Q,a5 as I,bH as V,d as $,U as E,W as X,ba as Z,bM as y}from"./main-1d195725.js";import{u as p,j as l,a as s,F as P,_ as L}from"./index-a4114ef4.js";import{T as o,I as _}from"./TextField-d5ff1ee4.js";import{a as f}from"./react-31052980.js";import{d as r}from"./chevron-left-00fe92ff.js";import"./numeral-1ca84eab.js";import{h as O}from"./moment-fbc5633a.js";import{L as b}from"./index-4db24ebd.js";import{E as aa,K as la,aK as na,aL as ia,ae as ea}from"./freelancerSlice-60742dc0.js";import{M as ta}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";function ha(){var h;const n=p(Y),i={name:(h=n==null?void 0:n.teamData)==null?void 0:h.name,avatar:"/static/images/avatars/1.jpg"};return l(W,{container:!0,justifyContent:"space-between",alignItems:"center",children:s(W,{item:!0,children:[l(o,{variant:"h3",component:"h3",gutterBottom:!0,children:"Reward Claims"}),s(o,{variant:"subtitle2",children:[i.name,", these are all the rewards claims."]})]})})}aa(x)(({theme:n})=>`
     background: ${n.colors.error.main};
     color: ${n.palette.error.contrastText};

     &:hover {
        background: ${n.colors.error.dark};
     }
    `);const ma=(n,i,h)=>(n==null?void 0:n.length)>0?n==null?void 0:n.slice(i*h,i*h+h):[],ua=(n,i)=>n==null?void 0:n.filter(h=>{let g=!0;return i!=null&&i.status&&(h==null?void 0:h.status)!==(i==null?void 0:i.status)&&(g=!1),g}),sa=({cryptoOrders:n,handleUpdateStatus:i,loading:h})=>{const g=r(),[e,d]=f.useState([]),m=e.length>0,[C,t]=f.useState(0),[S,R]=f.useState(50),[c,j]=f.useState({status:null}),D=[{id:"all",name:"All"},{id:"Received",name:"Received"},{id:"Claimed",name:"Claimed"},{id:"Sent",name:"Sent"},{id:"Error",name:"Error"}],F=a=>{let v=null;a.target.value!=="all"&&(v=a.target.value),a.target.value==="all"&&(v=null),j(N=>({...N,status:v}))},A=(a,v)=>{t(v)},z=a=>{R(parseInt(a.target.value))},H=ua(n,c),T=ma(H,C,S);(e==null?void 0:e.length)>0&&(e==null?void 0:e.length)<(n==null?void 0:n.length),e==null||e.length,n==null||n.length;const w=la();return l(P,{children:(n==null?void 0:n.length)>0?s(M,{children:[!m&&l(K,{action:l(k,{width:200,display:"flex",justifyContent:"space-between",alignItems:"center",children:s(na,{fullWidth:!0,variant:"outlined",children:[l(ia,{children:"Status"}),l(ea,{value:(c==null?void 0:c.status)||"all",onChange:F,label:"Status",autoWidth:!0,children:D.map(a=>l(ta,{value:a==null?void 0:a.id,children:a==null?void 0:a.name},a==null?void 0:a.id))})]})}),title:"Rewards Claims"}),l(U,{}),l(G,{children:s(q,{children:[l(J,{children:s(B,{children:[l(u,{children:"Claim ID"}),l(u,{children:"Freelancer Name"}),l(u,{children:"Number of Assignment"}),l(u,{children:"Claim Status"}),l(u,{children:"Claimed On"}),l(u,{children:"Update Status"})]})}),l(Q,{children:T==null?void 0:T.map(a=>{const v=e==null?void 0:e.includes(a==null?void 0:a.id);return s(B,{hover:!0,selected:v,children:[l(u,{children:l(o,{component:"a",variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>{g(`/team/management/profile/details/${a==null?void 0:a.id}`)},sx:{cursor:"pointer"},color:"#3f51b5",children:a==null?void 0:a.id})}),s(u,{children:[l(o,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.freelancer_name}),s(o,{variant:"h4",sx:{cursor:"pointer"},color:"#3f51b5",noWrap:!0,onClick:()=>{g(`/team/management/profile/details/${a==null?void 0:a.freelancer_id}`)},children:["ID: ",a==null?void 0:a.freelancer_id]})]}),l(u,{children:l(o,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.number_of_assignments})}),l(u,{children:s(_,{sx:{"&:hover":{background:w.colors.primary.lighter},color:w.palette.primary.main},color:"inherit",size:"small",children:[(a==null?void 0:a.status)==="Received"?l(b,{color:"success",children:"Received"}):null,(a==null?void 0:a.status)==="Claimed"?l(b,{color:"primary",children:"Claimed"}):null,(a==null?void 0:a.status)==="Sent"?l(b,{color:"warning",children:"Sent"}):null,(a==null?void 0:a.status)==="Error"?l(b,{color:"error",children:"Error"}):null]})}),l(u,{children:l(o,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:O(a==null?void 0:a.claim_datetime).format("Do MMM YYYY hh:mm A")})}),l(u,{children:s(_,{sx:{"&:hover":{background:w.colors.primary.lighter},color:w.palette.primary.main},color:"inherit",size:"small",children:[(a==null?void 0:a.status)==="Received"?l(b,{color:"primary",children:"Received"}):null,(a==null?void 0:a.status)==="Claimed"?l(P,{children:h?l(x,{variant:"outlined",color:"primary",children:l(I,{size:20})}):l(x,{onClick:()=>{i(a==null?void 0:a.id,"Sent")},variant:"outlined",color:"primary",children:"Sent"})}):null,(a==null?void 0:a.status)==="Sent"?l(P,{children:h?l(x,{variant:"outlined",color:"primary",children:l(I,{size:20})}):l(x,{onClick:()=>{i(a==null?void 0:a.id,"Received")},variant:"outlined",color:"primary",children:"Received"})}):null,(a==null?void 0:a.status)==="Error"?l(b,{color:"error",children:"Error"}):null]})})]},a==null?void 0:a.id)})})]})}),l(k,{p:2,children:l(V,{component:"div",count:n==null?void 0:n.length,onPageChange:A,onRowsPerPageChange:z,page:C,rowsPerPage:S,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]}):l(o,{variant:"h3",component:"h3",gutterBottom:!0,children:"No PM Found"})})};function ga(){const[n,i]=f.useState([]),[h,g]=f.useState(!1),e=()=>{$.get(`${E}/team/freelancerrewardsclaim.php`).then(m=>{console.log(m==null?void 0:m.data),i(m==null?void 0:m.data)}).catch(m=>{console.log(m)})},d=(m,C)=>{console.log(m,C),g(!0),$.get(`${E}/team/freelancerrewardclaimupdate.php?claim_id=${m}&status=${C}`).then(t=>{var S,R,c;((S=t==null?void 0:t.data)==null?void 0:S.status)==="success"?(L.success((R=t==null?void 0:t.data)==null?void 0:R.message),console.log(t==null?void 0:t.data),e()):L.error((c=t==null?void 0:t.data)==null?void 0:c.message)}).catch(t=>{console.log(t)}),g(!1)};return f.useEffect(()=>{e()},[]),l(M,{children:(n==null?void 0:n.length)>0&&l(sa,{loading:h,cryptoOrders:n,handleUpdateStatus:d})})}function Ta(){return s(P,{children:[l(X,{children:l("title",{children:"Reward Claims"})}),l(Z,{children:l(ha,{})}),l(y,{maxWidth:"xl",children:l(W,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:l(W,{item:!0,xs:12,children:l(ga,{})})})})]})}export{Ta as default};
