import{s as D,c as E,a3 as H,C as W,bv as N,f as w,D as K,a0 as U,a1 as z,bK as G,$ as P,bL as u,a2 as d,bH as q,d as _,U as S,W as J,ba as Q,bM as V}from"./main-1d195725.js";import{u as X,j as l,a as g,F as B,_ as Y}from"./index-a4114ef4.js";import{T as b,I as Z}from"./TextField-d5ff1ee4.js";import{a as o}from"./react-31052980.js";import{d as p}from"./chevron-left-00fe92ff.js";import"./numeral-1ca84eab.js";import"./moment-fbc5633a.js";import{L as T}from"./index-4db24ebd.js";import{E as y,K as r,aK as O,aL as aa,ae as ea}from"./freelancerSlice-60742dc0.js";import{M as la}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";function na(){var i;const e=X(D),t={name:(i=e==null?void 0:e.teamData)==null?void 0:i.name,avatar:"/static/images/avatars/1.jpg"};return l(E,{container:!0,justifyContent:"space-between",alignItems:"center",children:g(E,{item:!0,children:[l(b,{variant:"h3",component:"h3",gutterBottom:!0,children:"Rewards Eligibility"}),g(b,{variant:"subtitle2",children:[t.name,", these are all the freelancers."]})]})})}y(H)(({theme:e})=>`
     background: ${e.colors.error.main};
     color: ${e.palette.error.contrastText};

     &:hover {
        background: ${e.colors.error.dark};
     }
    `);const ia=(e,t,i)=>(e==null?void 0:e.length)>0?e==null?void 0:e.slice(t*i,t*i+i):[],ta=(e,t)=>e==null?void 0:e.filter(i=>{let n=!0;return t!=null&&t.status&&(i==null?void 0:i.status)!==(t==null?void 0:t.status)&&(n=!1),n}),ha=({cryptoOrders:e,handleMakeEligible:t})=>{const i=p(),[n,h]=o.useState([]),x=n.length>0,[f,m]=o.useState(0),[c,I]=o.useState(50),[v,M]=o.useState({status:null}),R=[{id:"all",name:"All"},{id:"Make Eligible",name:"Make Eligible"},{id:"Eligible",name:"Eligible"}],L=a=>{let s=null;a.target.value!=="all"&&(s=a.target.value),a.target.value==="all"&&(s=null),M(A=>({...A,status:s}))},$=(a,s)=>{m(s)},j=a=>{I(parseInt(a.target.value))},F=ta(e,v),C=ia(F,f,c);(n==null?void 0:n.length)>0&&(n==null?void 0:n.length)<(e==null?void 0:e.length),n==null||n.length,e==null||e.length;const k=r();return l(B,{children:(e==null?void 0:e.length)>0?g(W,{children:[!x&&l(N,{action:l(w,{width:200,display:"flex",justifyContent:"space-between",alignItems:"center",children:g(O,{fullWidth:!0,variant:"outlined",children:[l(aa,{children:"Status"}),l(ea,{value:(v==null?void 0:v.status)||"all",onChange:L,label:"Status",autoWidth:!0,children:R.map(a=>l(la,{value:a==null?void 0:a.id,children:a==null?void 0:a.name},a==null?void 0:a.id))})]})}),title:"Rewards Eligibility"}),l(K,{}),l(U,{children:g(z,{children:[l(G,{children:g(P,{children:[l(u,{children:"Eligibility ID"}),l(u,{children:"Freelancer Name"}),l(u,{children:"No. of Assignments"}),l(u,{children:"Claim Status"})]})}),l(d,{children:C==null?void 0:C.map(a=>{const s=n==null?void 0:n.includes(a==null?void 0:a.eligible_id);return g(P,{hover:!0,selected:s,children:[l(u,{children:l(b,{component:"a",variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>{i(`/team/management/profile/details/${a==null?void 0:a.eligible_id}`)},sx:{cursor:"pointer"},color:"#3f51b5",children:a==null?void 0:a.eligible_id})}),g(u,{children:[l(b,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.freelancer_name}),g(b,{variant:"h4",sx:{cursor:"pointer"},color:"#3f51b5",noWrap:!0,onClick:()=>{i(`/team/management/profile/details/${a==null?void 0:a.freelancer_id}`)},children:["ID: ",a==null?void 0:a.freelancer_id]})]}),l(u,{children:l(b,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.number_of_assignments})}),l(u,{children:g(Z,{sx:{"&:hover":{background:k.colors.primary.lighter},color:k.palette.primary.main},color:"inherit",size:"small",children:[(a==null?void 0:a.status)==="Eligible"?l(T,{color:"success",children:"Eligible"}):null,(a==null?void 0:a.status)==="Make Eligible"?l(T,{onClick:()=>{t(a==null?void 0:a.eligible_id,a==null?void 0:a.number_of_assignments)},color:"warning",children:"Make Eligible"}):null]})})]},a==null?void 0:a.eligible_id)})})]})}),l(w,{p:2,children:l(q,{component:"div",count:e==null?void 0:e.length,onPageChange:$,onRowsPerPageChange:j,page:f,rowsPerPage:c,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]}):l(b,{variant:"h3",component:"h3",gutterBottom:!0,children:"No PM Found"})})};function ga(){const[e,t]=o.useState([]),i=()=>{_.get(`${S}/team/freelancereligible.php`).then(h=>{console.log(h==null?void 0:h.data),t(h==null?void 0:h.data)}).catch(h=>{console.log(h)})},n=(h,x)=>{const f={eligibility_id:h,number:x};_.post(`${S}/team/freelancermakeelgibile.php`,f).then(m=>{var c;Y.success((c=m==null?void 0:m.data)==null?void 0:c.message),i()}).catch(m=>{console.log(m)})};return o.useEffect(()=>{i()},[]),l(W,{children:(e==null?void 0:e.length)>0&&l(ha,{cryptoOrders:e,handleMakeEligible:n})})}function wa(){return g(B,{children:[l(J,{children:l("title",{children:"Reward Eligibility"})}),l(Q,{children:l(na,{})}),l(V,{maxWidth:"xl",children:l(E,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:l(E,{item:!0,xs:12,children:l(ga,{})})})})]})}export{wa as default};
