import{a8 as S,d as L,U as T}from"./main-1d195725.js";import{a}from"./react-31052980.js";import{d as D}from"./chevron-left-00fe92ff.js";import{C as b}from"./Checkboxes-507bb5f0.js";import{j as e,F as M,a as p}from"./index-a4114ef4.js";import{S as j,aP as y}from"./freelancerSlice-60742dc0.js";import B from"./PersonalDetails-c82944f8.js";import"./TextField-d5ff1ee4.js";import"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";import"./freelancerApiSlice-d2e4ab83.js";import"./loader-2-0dcaac2c.js";import"./Check-4e30e71a.js";import"./RadioGroup-a75dd518.js";import"./FormGroup-e9548f89.js";const J=a.lazy(()=>S(()=>import("./Speciality-15221beb.js"),["assets/Speciality-15221beb.js","assets/react-31052980.js","assets/TextField-d5ff1ee4.js","assets/index-a4114ef4.js","assets/freelancerSlice-60742dc0.js","assets/Tags-651fa0a7.js","assets/Autocomplete-9f58a83a.js","assets/circle-e0351cb4.js","assets/loader-2-0dcaac2c.js","assets/trash-6f040b71.js"])),V=a.lazy(()=>S(()=>import("./Experience-0365d791.js"),["assets/Experience-0365d791.js","assets/react-31052980.js","assets/index-a4114ef4.js","assets/freelancerSlice-60742dc0.js","assets/chevron-left-00fe92ff.js","assets/MenuItem-030e42a2.js"])),H=a.lazy(()=>S(()=>import("./Resume-3a1dc9aa.js"),["assets/Resume-3a1dc9aa.js","assets/react-31052980.js","assets/index-a4114ef4.js","assets/chevron-left-00fe92ff.js","assets/loader-2-0dcaac2c.js","assets/trash-6f040b71.js","assets/arrow-right-circle-12522627.js"])),X=5,$=1;function pe(){const x=j(),[v,N]=a.useState([]),[k,R]=a.useState([]),[G,u]=a.useState(!1),[E,i]=a.useState(!1),[h,U]=a.useState([]),[g,K]=a.useState("Technical"),[l,Q]=a.useState(2),[I,z]=a.useState(null),[A,O]=a.useState(null),m=D();a.useEffect(()=>{if(localStorage.getItem("form")){let n=JSON.parse(localStorage.getItem("form"));U([...n[1].Step2.split(",")]),x(y({domains:n[1].Step2.split(",").toString()}))}else window.alert("Please fill the form from the beginning"),m("/freelance/step2")},[]);const P=async n=>{let r=[...v],o=!1;i(!0),n.forEach(t=>{r.length<X?r.push(t):o=!0}),N(r);let s=JSON.parse(localStorage.getItem("random_number_past_work")?localStorage.getItem("random_number_past_work"):I),_={past_work_files:r,submit:"submit",random_number:s||I};await L.post(`${T}/freelancer/fileuploadpastworkfiles.php`,_,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{var d,c,f;z((d=t==null?void 0:t.data)==null?void 0:d.random_number),localStorage.setItem("random_number_past_work",(c=t==null?void 0:t.data)==null?void 0:c.random_number),x(y({past_work_files:(f=t==null?void 0:t.data)==null?void 0:f.file_name_string}))}).catch(t=>{console.log(t)}),i(!1),u(!!o)},q=async n=>{let r=[...k],o=!1;i(!0),n.forEach(t=>{r.length<$?r.push(t):o=!0}),R(r);let s=JSON.parse(localStorage.getItem("random_number_resume")?localStorage.getItem("random_number_resume"):A),_={resume:r,submit:"submit",random_number:s||A};await L.post(`${T}/freelancer/fileuploadresume.php`,_,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{var d,c,f;O((d=t==null?void 0:t.data)==null?void 0:d.random_number),localStorage.setItem("random_number_resume",(c=t==null?void 0:t.data)==null?void 0:c.random_number),x(y({resume:(f=t==null?void 0:t.data)==null?void 0:f.file_name_string}))}).catch(t=>{console.log(t)}),i(!1),u(!!o)},w=[];h.forEach(n=>{var o;let r=b.findIndex(s=>s.name===n);(o=b[r])==null||o.checkboxes.forEach(s=>{w.includes(s.name)||w.push(s.name)})});const C=()=>{l===1&&m("/freelance/freelancer/technical/step2"),l===2&&m("/freelance/freelancer/technical/step3")},F=()=>{l===2&&m("/freelance/freelancer/technical/step1"),l===3&&m("/freelance/freelancer/technical/step2")};return e(M,{children:l===4?e(a.Suspense,{fallback:e("div",{}),children:e(B,{})}):p("div",{className:" backdrop-blur-2xl  drop-shadow shadow-2xl rounded-xl py-10 md:my-10 flex-col bg-white bg-opacity-20  max-w-[70rem] mt-8 mb-6 mx-auto flex   px-5 md:px-0  items-center",children:[" ",e("div",{className:" flex flex-col items-center justify-center gap-x-1 gap-y-1 md:flex-row flex-wrap",children:h==null?void 0:h.filter(n=>b.map(r=>r.name).includes(n)).map((n,r)=>e("div",{className:" max-w-[65rem] mx-auto flex md:flex-row flex-col px-2 md:px-0 justify-between items-center",children:e("button",{className:"flex-col max-w-sm px-10 bg-white border border-gray-200 rounded-lg shadow-2xl  backdrop-blur-3xl",children:e("h5",{className:"py-1 text-xl font-bold tracking-tight text-gray-900",children:n})})},r))}),p("ol",{className:"mt-10 flex items-center md:w-[50rem] w-[20rem] text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base",children:[e("li",{style:{color:l===1?"#2956A8":"#9CA3AF"},className:"flex md:w-full items-center   sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700",children:p("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[l===1?e("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e("span",{className:"mr-2",children:"1"}),"Speciality"]})}),e("li",{style:{color:l===2?"#2956A8":"#9CA3AF"},className:"flex md:w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700",children:e("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:p("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[l===2?e("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e("span",{className:"mr-2",children:"2"}),"Experience"]})})}),e("li",{style:{color:l===3?"#2956A8":"#9CA3AF"},className:"flex items-center",children:p("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[l===3?e("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e("span",{className:"mr-2",children:"3"}),"Resume"]})})]}),l===1&&e(a.Suspense,{fallback:e("div",{}),children:e(J,{nextStepHandler:C,loading:E,setLoading:i,uploadedFiles:v,handleUploadFiles:P,setUploadedFiles:N,relevantCheckboxes:w,role:g})}),l===2&&e(a.Suspense,{fallback:e("div",{}),children:e(V,{prevStepHandler:F,nextStepHandler:C,role:g})}),l===3&&e(a.Suspense,{fallback:e("div",{}),children:e(H,{handleUploadResume:q,resumeFiles:k,setResumeFiles:R,prevStepHandler:F,loading:E,setLoading:i,role:g})})]})})}export{pe as default};
