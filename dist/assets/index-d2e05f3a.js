import{s as y,c as M,C as D,a9 as j,D as O,a0 as r,a1 as aa,bK as ea,$ as E,bL as h,a2 as na,f as R,bH as ia,d as ta,U as sa,W as la,ba as ua}from"./main-1d195725.js";import{u as ma,j as e,a as u,F as Y}from"./index-a4114ef4.js";import{T as o}from"./TextField-d5ff1ee4.js";import{a as m}from"./react-31052980.js";import{d as oa}from"./chevron-left-00fe92ff.js";import{h as ha}from"./moment-fbc5633a.js";import{L as v}from"./index-4db24ebd.js";import{d as ca}from"./SearchTwoTone-880281d3.js";import{d as ga}from"./Stars-f646b600.js";import{E as fa,aM as xa,aK as A,ae as ba}from"./freelancerSlice-60742dc0.js";import{M as N}from"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";function va(){var s;const n=ma(y),c={name:(s=n==null?void 0:n.teamData)==null?void 0:s.name,avatar:"/static/images/avatars/1.jpg"};return e(M,{container:!0,justifyContent:"space-between",alignItems:"center",children:u(M,{item:!0,children:[e(o,{variant:"h3",component:"h3",gutterBottom:!0,children:"Contact Messages"}),u(o,{variant:"subtitle2",children:[c.name,", these are all the messages sent to our team."]})]})})}const Ca=fa(xa)(({theme:n})=>`
    background-color: ${n.colors.alpha.white[100]};
    padding-right: ${n.spacing(.7)}
`),Sa=(n,c,s)=>(n==null?void 0:n.length)>0?n==null?void 0:n.slice(c*s,c*s+s):[],wa=({cryptoOrders:n})=>{const c=oa(),[s,_a]=m.useState([]),[x,W]=m.useState("name"),[b,P]=m.useState("source"),[F,H]=m.useState(0),[I,K]=m.useState(50),[L,U]=m.useState([]),[k,G]=m.useState([]),[T,q]=m.useState([]),[_,z]=m.useState({search:null}),[J,Ma]=m.useState({status:null}),$=(a,i)=>a==null?void 0:a.filter(l=>{var g,f,C,S,w,d;let t=!0;return x==="name"?i!=null&&i.search&&!((f=l==null?void 0:l.name)!=null&&f.toLowerCase().includes((g=i==null?void 0:i.search)==null?void 0:g.toLowerCase()))&&(t=!1):x==="message"?i!=null&&i.search&&!((S=l==null?void 0:l.message)!=null&&S.toLowerCase().includes((C=i==null?void 0:i.search)==null?void 0:C.toLowerCase()))&&(t=!1):x==="email"&&i!=null&&i.search&&!((d=l==null?void 0:l.email)!=null&&d.toLowerCase().includes((w=i==null?void 0:i.search)==null?void 0:w.toLowerCase()))&&(t=!1),t}),Q=a=>{let i=null;a.target.value!==""&&(i=a.target.value),a.target.value===""&&(i=null),z(l=>({...l,search:i}))},V=(a,i)=>{H(i)},X=a=>{K(parseInt(a.target.value))},Z=$(n,_),p=$(Z,J),B=Sa(p,F,I);return m.useEffect(()=>{let a=[],i=[],l=[];n==null||n.map(t=>{var g,f,C,S,w,d;(g=t==null?void 0:t.utm_data)!=null&&g.utm_source&&a.push((f=t==null?void 0:t.utm_data)==null?void 0:f.utm_source),(C=t==null?void 0:t.utm_data)!=null&&C.utm_medium&&i.push((S=t==null?void 0:t.utm_data)==null?void 0:S.utm_medium),(w=t==null?void 0:t.utm_data)!=null&&w.utm_campaign&&l.push((d=t==null?void 0:t.utm_data)==null?void 0:d.utm_campaign)}),U([...new Set(a)]),G([...new Set(i)]),q([...new Set(l)])},[n]),e(Y,{children:(n==null?void 0:n.length)>0?u(D,{children:[u("div",{className:"flex flex-col md:flex-row items-center justify-between p-4 md:px-6",children:[e(A,{variant:"outlined",sx:{p:2,width:{xs:"100%",sm:"auto",md:"80ch"}},children:e(Ca,{type:"text",value:(_==null?void 0:_.search)||"",onChange:Q,placeholder:"Search here...",startAdornment:u(j,{position:"start",children:[e(ca,{}),u("div",{className:"flex gap-2 ml-2",children:[e(v,{sx:{cursor:"pointer"},onClick:()=>{W("name")},color:x==="name"?"success":"info",children:"Name"}),e(v,{sx:{cursor:"pointer"},onClick:()=>{W("email")},color:x==="email"?"success":"info",children:"Email"}),e(v,{sx:{cursor:"pointer"},onClick:()=>{W("message")},color:x==="message"?"success":"info",children:"Message"})]})]})})}),e(A,{variant:"outlined",sx:{p:2},children:u(ba,{value:"",autoWidth:!0,startAdornment:u(j,{position:"start",children:[e(ga,{color:"primary"}),u("div",{className:"flex gap-2 ml-2",children:[e(v,{sx:{cursor:"pointer"},onClick:()=>{P("source")},color:b==="source"?"success":"info",children:"Source"}),e(v,{sx:{cursor:"pointer"},onClick:()=>{P("medium")},color:b==="medium"?"success":"info",children:"Medium"}),e(v,{sx:{cursor:"pointer"},onClick:()=>{P("campaign")},color:b==="campaign"?"success":"info",children:"Campaign"})]})]}),children:[b==="source"&&(L==null?void 0:L.map(a=>e(N,{value:a,children:a},a))),b==="medium"&&(k==null?void 0:k.map(a=>e(N,{value:a,children:a},a))),b==="campaign"&&(T==null?void 0:T.map(a=>e(N,{value:a,children:a},a)))]})})]}),e(O,{}),e(r,{children:u(aa,{children:[e(ea,{children:u(E,{children:[e(h,{children:"ID"}),e(h,{children:"Name"}),e(h,{children:"Email"}),e(h,{children:"Message"}),e(h,{children:"Campaign"})]})}),e(na,{children:B==null?void 0:B.map(a=>{var l,t,g,f;const i=s==null?void 0:s.includes(a==null?void 0:a.id);return u(E,{hover:!0,selected:i,children:[u(h,{children:[e(o,{sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>c(`/team/management/assignments/details/${a==null?void 0:a.id}`),color:"#3f51b5",children:a==null?void 0:a.id}),e(o,{variant:"body2",color:"text.secondary",noWrap:!0,children:ha(a==null?void 0:a.submitted_on).format("MMMM Do YYYY, h:mm:ss a")})]}),e(h,{children:e(o,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a==null?void 0:a.name})}),e(h,{children:e(o,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`mailto: ${a==null?void 0:a.email}`,children:a==null?void 0:a.email})}),e(h,{children:u("div",{className:"flex gap-2",children:[e(o,{variant:"body2",color:"text.secondary",sx:{maxWidth:"400px",maxHeight:"100px",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none"},children:a==null?void 0:a.message}),((l=a==null?void 0:a.message)==null?void 0:l.length)>400&&e("div",{className:"mouse"})]})}),u(h,{children:[e(o,{sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>c(`/team/management/assignments/details/${a==null?void 0:a.id}`),color:"#3f51b5",children:((t=a==null?void 0:a.utm_data)==null?void 0:t.utm_source)||"Source not found"}),e(o,{variant:"body2",color:"text.secondary",noWrap:!0,children:((g=a==null?void 0:a.utm_data)==null?void 0:g.utm_medium)||"Medium not found"}),e(o,{variant:"body2",color:"text.secondary",noWrap:!0,children:((f=a==null?void 0:a.utm_data)==null?void 0:f.utm_campaign)||"Campaign not found"})]})]},a==null?void 0:a.id)})})]})}),e(R,{p:2,children:e(ia,{component:"div",count:n==null?void 0:n.length,onPageChange:V,onRowsPerPageChange:X,page:F,rowsPerPage:I,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]}):e(o,{variant:"h3",component:"h3",gutterBottom:!0,children:"No PM Found"})})};function da(){const[n,c]=m.useState([]);return m.useEffect(()=>{ta.get(`${sa}/team/contacttable.php`).then(s=>{console.log(s==null?void 0:s.data),c(s==null?void 0:s.data)}).catch(s=>{console.log(s)})},[]),e(D,{children:(n==null?void 0:n.length)>0&&e(wa,{cryptoOrders:n})})}function Da(){return u(Y,{children:[e(la,{children:e("title",{children:"Contact Messages"})}),e(ua,{children:e(va,{})}),e(R,{fullwidth:"true",sx:{mx:2},children:e(M,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:e(M,{item:!0,xs:12,children:e(da,{})})})})]})}export{Da as default};
