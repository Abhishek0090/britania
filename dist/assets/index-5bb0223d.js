import{a as m}from"./react-31052980.js";import{d as ce,b as me}from"./chevron-left-00fe92ff.js";import{d as he}from"./SearchTwoTone-880281d3.js";import{L as f}from"./index-4db24ebd.js";import{r as ge,k as de,l as ve,a3 as Se,f as L,x as q,C as xe,bv as be,a9 as Ie,D as fe,a0 as Ce,a1 as we,bK as ke,$ as K,bL as u,a2 as Pe,bH as Le}from"./main-1d195725.js";import{d as Be}from"./MoreVertTwoTone-502dd3b1.js";import{a as i,F as Y,j as n}from"./index-a4114ef4.js";import{T as d,I as We}from"./TextField-d5ff1ee4.js";import{E as r,aZ as Ae,U as Ne,K as Te,aK as M,aL as V,ae as Z,aM as Me}from"./freelancerSlice-60742dc0.js";import{L as G}from"./ListItemText-a11f0774.js";import{M as Q}from"./MenuItem-030e42a2.js";var R={},Re=de;Object.defineProperty(R,"__esModule",{value:!0});var p=R.default=void 0,_e=Re(ge()),X=ve,je=(0,_e.default)([(0,X.jsx)("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),(0,X.jsx)("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"},"1")],"DeleteTwoTone");p=R.default=je;const $e=r(Se)(({theme:l})=>`
     background: ${l.colors.error.main};
     color: ${l.palette.error.contrastText};

     &:hover {
        background: ${l.colors.error.dark};
     }
    `);function Ee(){const[l,h]=m.useState(!1),c=m.useRef(null),v=()=>{h(!0)},g=()=>{h(!1)};return i(Y,{children:[i(L,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[i(L,{display:"flex",alignItems:"center",children:[n(d,{variant:"h5",color:"text.secondary",children:"Bulk actions:"}),n($e,{sx:{ml:1},startIcon:n(p,{}),variant:"contained",children:"Delete"})]}),n(We,{color:"primary",onClick:v,ref:c,sx:{ml:2,p:1},children:n(Be,{})})]}),n(Ae,{keepMounted:!0,anchorEl:c.current,open:l,onClose:g,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:i(Ne,{sx:{p:1},component:"nav",children:[n(q,{button:!0,children:n(G,{primary:"Bulk delete selected"})}),n(q,{button:!0,children:n(G,{primary:"Bulk edit selected"})})]})})]})}const De=r(Me)(({theme:l})=>`
    background-color: ${l.colors.alpha.white[100]};
    padding-right: ${l.spacing(.7)}
`),Je=l=>{const h={Posted:{text:"Posted",color:"primary"},"Under Process":{text:"Under Process",color:"warning"},Lost:{text:"Lost",color:"error"},"Assigned to PM":{text:"Assigned to PM",color:"black"},"Assigned to Freelancer":{text:"Assigned to Freelancer",color:"black"},Completed:{text:"Completed",color:"success"},"Review Received":{text:"Review Received",color:"info"}},{text:c,color:v}=h[l];return n(f,{color:v,children:c})},Fe=(l,h,c)=>(l==null?void 0:l.length)>0?l==null?void 0:l.slice(h*c,h*c+c):[];function pe({cryptoOrders:l,statusName:h,streamName:c}){const v=ce(),[g,S]=m.useState(localStorage.getItem("searchOption")?localStorage.getItem("searchOption"):"name"),[o,He]=m.useState([]),_=o.length>0,[j,y]=m.useState(0),[$,O]=m.useState(50),E=me().pathname.split("/assignments")[1],[C,B]=m.useState({status:h}),[w,W]=m.useState({stream:c}),[k,A]=m.useState({search:null}),D=localStorage.getItem("currentId");m.useEffect(()=>{if(localStorage.getItem("search")){let e=JSON.parse(localStorage.getItem("search"));Object.values(e).forEach((a,t)=>{A(s=>({...s,search:a}))})}if(localStorage.getItem("stream")){let e=JSON.parse(localStorage.getItem("stream"));Object.values(e).forEach((a,t)=>{W(s=>({...s,stream:a}))})}if(localStorage.getItem("status")){let e=JSON.parse(localStorage.getItem("status"));Object.values(e).forEach((a,t)=>{B(s=>({...s,status:a}))})}},[E]),m.useEffect(()=>{D||(localStorage.removeItem("search"),localStorage.removeItem("stream"),localStorage.removeItem("status"),localStorage.removeItem("currentId"),localStorage.removeItem("searchOption"),A(e=>({...e,search:null})),W(e=>({...e,stream:c})),B(e=>({...e,status:h})),S("name"))},[E,D]);const ee=[{id:"all",name:"All"},{id:"Posted",name:"Posted"},{id:"Under Process",name:"Under Process"},{id:"Assigned to PM",name:"Assigned to PM"},{id:"Assigned to Freelancer",name:"Assigned to Freelancer"},{id:"Completed",name:"Completed"},{id:"Review Received",name:"Review Received"},{id:"Lost",name:"Lost"}],ae=[{id:"all",name:"All"},{id:"Engineering",name:"Engineering"},{id:"Arts",name:"Arts"},{id:"Medical",name:"Medical"},{id:"Commerce",name:"Commerce"}],N=(e,a)=>e==null?void 0:e.filter(t=>{var x,b,I,J,F,H,U,z;let s=!0;return a!=null&&a.status&&(t==null?void 0:t.status)!==(a==null?void 0:a.status)&&(s=!1),a!=null&&a.stream&&(t==null?void 0:t.stream)!==(a==null?void 0:a.stream)&&(s=!1),g==="id"?a!=null&&a.search&&!((b=t==null?void 0:t.id)!=null&&b.toLowerCase().includes((x=a==null?void 0:a.search)==null?void 0:x.toLowerCase()))&&(s=!1):g==="name"?a!=null&&a.search&&!((J=t==null?void 0:t.user_name)!=null&&J.toLowerCase().includes((I=a==null?void 0:a.search)==null?void 0:I.toLowerCase()))&&(s=!1):g==="title"?a!=null&&a.search&&!((H=t==null?void 0:t.title)!=null&&H.toLowerCase().includes((F=a==null?void 0:a.search)==null?void 0:F.toLowerCase()))&&(s=!1):g==="desc"&&a!=null&&a.search&&!((z=t==null?void 0:t.description)!=null&&z.toLowerCase().includes((U=a==null?void 0:a.search)==null?void 0:U.toLowerCase()))&&(s=!1),s}),ne=e=>{let a=null;e.target.value!=="all"&&(a=e.target.value),e.target.value==="all"&&(a=null),B(s=>({...s,status:a}));let t=JSON.stringify({status:e.target.value});localStorage.setItem("status",t)},te=e=>{let a=null;e.target.value!=="all"&&(a=e.target.value),e.target.value==="all"&&(a=null),W(s=>({...s,stream:a}));let t=JSON.stringify({stream:e.target.value});localStorage.setItem("stream",t)},le=(e,a)=>{y(a)},se=e=>{O(parseInt(e.target.value))},P=N(l,C),ie=N(P,w),oe=N(ie,k),T=Fe(oe,j,$),ue=e=>{let a=null;e.target.value!==""&&(a=e.target.value),e.target.value===""&&(a=null),A(s=>({...s,search:a}));let t=JSON.stringify({search:e.target.value});localStorage.setItem("search",t)};return(o==null?void 0:o.length)>0&&(o==null?void 0:o.length)<(l==null?void 0:l.length),o==null||o.length,l==null||l.length,Te(),n(Y,{children:i(xe,{children:[_&&n(L,{flex:1,p:2,children:n(Ee,{})}),!_&&n(be,{action:i("div",{className:"flex items-start md:justify-end md:w-[35rem] w-[20rem]",children:[n("div",{className:"flex items-center justify-start w-2/3 ",children:i(M,{fullWidth:!0,variant:"outlined",sx:{mr:4},children:[n(V,{children:"Stream"}),n(Z,{value:(w==null?void 0:w.stream)||"all",onChange:te,label:"Stream",autoWidth:!0,children:ae.map(e=>n(Q,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))})]})}),n("div",{className:"flex items-center justify-start w-2/3 ",children:i(M,{fullWidth:!0,variant:"outlined",children:[n(V,{children:"Status"}),n(Z,{value:(C==null?void 0:C.status)||"all",onChange:ne,label:"Status",autoWidth:!0,children:ee.map(e=>n(Q,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))})]})})]})}),n(M,{variant:"outlined",fullWidth:!0,sx:{p:2},children:n(De,{type:"text",value:(k==null?void 0:k.search)||"",onChange:ue,placeholder:"Search text here...",startAdornment:i(Ie,{position:"start",children:[n(he,{}),i("div",{className:"flex gap-2",children:[n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Assignment Id"),S("id"),JSON.stringify(localStorage.setItem("searchOption","id"))},color:g==="id"?"success":"info",children:"ID"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Name"),S("name"),JSON.stringify(localStorage.setItem("searchOption","name"))},color:g==="name"?"success":"info",children:"Name"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Title"),S("title"),JSON.stringify(localStorage.setItem("searchOption","title"))},color:g==="title"?"success":"info",children:"Title"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{console.log("Desc"),S("desc"),JSON.stringify(localStorage.setItem("searchOption","desc"))},color:g==="desc"?"success":"info",children:"Desc"})]})]})})}),n(fe,{}),n(Ce,{children:i(we,{children:[n(ke,{children:i(K,{children:[n(u,{className:"w-[10rem]",children:"Assignment ID"}),n(u,{children:"User Name"}),n(u,{children:"Stream"}),n(u,{children:"Title"}),n(u,{className:"w-[12rem]",children:"Budget"}),n(u,{className:"w-[12rem]",children:"Status"})]})}),n(Pe,{children:T==null?void 0:T.map(e=>{var x,b,I;const a=o==null?void 0:o.includes(e==null?void 0:e.id),t=e==null?void 0:e.user_name.split(" ")[0],s=e==null?void 0:e.user_name.split(" ")[1];return i(K,{hover:!0,selected:a,children:[n(u,{children:n(d,{sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>v(`/team/management/assignments/details/${e==null?void 0:e.id}`),color:"#3f51b5",children:e==null?void 0:e.id})}),i(u,{children:[i(d,{onClick:()=>v(`/team/management/student/details-student/${e==null?void 0:e.user_id}`),sx:{cursor:"pointer"},variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:[t,n("br",{}),s]}),i(d,{onClick:()=>v(`/team/management/student/details-student/${e==null?void 0:e.user_id}`),sx:{cursor:"pointer"},variant:"body2",color:"#3f51b5",noWrap:!0,children:["id : ",e==null?void 0:e.user_id]})]}),n(u,{sx:{maxWidth:"300px",wordBreak:"break-all"},children:n(d,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e==null?void 0:e.stream})}),i(u,{sx:{maxWidth:"300px",wordBreak:"break-all"},children:[n(d,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e==null?void 0:e.title}),n(d,{variant:"body2",color:"text.secondary",sx:{maxWidth:"200px"},children:((x=e==null?void 0:e.description)==null?void 0:x.length)>300?((b=e==null?void 0:e.description)==null?void 0:b.slice(0,300))+"...":e==null?void 0:e.description})]}),n(u,{sx:{maxWidth:"300px",wordBreak:"break-all"},children:i(d,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,children:["â‚¹",(I=e==null?void 0:e.budget)==null?void 0:I.toLocaleString("en-US",{style:"currency",currency:"INR"})]})}),n(u,{children:n(d,{variant:"body1",fontWeight:"bold",gutterBottom:!0,whiteSpace:"nowrap",children:(e==null?void 0:e.status)===""?null:Je(e==null?void 0:e.status)})})]},e==null?void 0:e.id)})})]})}),n(L,{p:2,children:n(Le,{component:"div",count:P==null?void 0:P.length,onPageChange:le,onRowsPerPageChange:se,page:j,rowsPerPage:$,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]})})}export{pe as A};
