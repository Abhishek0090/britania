import{a as g}from"./react-31052980.js";import{d as la}from"./chevron-left-00fe92ff.js";import{d as q}from"./SearchTwoTone-880281d3.js";import{L as f}from"./index-4db24ebd.js";import{d as ta}from"./LocalPhoneTwoTone-d4da98b4.js";import{a as u,j as n}from"./index-a4114ef4.js";import{E as ia,aM as sa,K as oa,aK as L,aL as ua,ae as ha}from"./freelancerSlice-60742dc0.js";import{C as ma,f as F,bv as ga,a9 as z,D as ca,a0 as va,a1 as Sa,bK as ba,$ as G,bL as m,a2 as xa,bH as fa}from"./main-1d195725.js";import{M as wa}from"./MenuItem-030e42a2.js";import{T as S}from"./TextField-d5ff1ee4.js";const Q=ia(sa)(({theme:t})=>`
    background-color: ${t.colors.alpha.white[100]};
    padding-right: ${t.spacing(.7)}
`),Ia=t=>{const c={"Technical Approved":{text:"Technical Approved",color:"success"},"Non Technical Approved":{text:"Non Technical Approved",color:"success"},"Not Approved":{text:"Not Approved",color:"error"},"Form Filled":{text:"Form Filled",color:"warning"},"Agreement Sent":{text:"Agreement Sent",color:"primary"},Rejected:{text:"Rejected",color:"error"},"Interview Conducted":{text:"Interview Conducted",color:"info"}},{text:v,color:h}=c[t];return n(f,{color:h,children:v})},Ca=(t,c,v)=>(t==null?void 0:t.length)>0?t==null?void 0:t.slice(c*v,c*v+v):[];function $a({cryptoOrders:t,statusName:c}){const v=la(),[h,b]=g.useState(localStorage.getItem("searchOption")?localStorage.getItem("searchOption"):"name"),[s,Aa]=g.useState([]),W=s.length>0,[j,U]=g.useState(0),[d,V]=g.useState(50),[w,I]=g.useState({status:c}),[x,C]=g.useState({search:null}),P=localStorage.getItem("currentId");g.useEffect(()=>{if(localStorage.getItem("search")){let a=JSON.parse(localStorage.getItem("search"));Object.values(a).forEach((e,l)=>{C(i=>({...i,search:e}))})}if(localStorage.getItem("status")){let a=JSON.parse(localStorage.getItem("status"));Object.values(a).forEach((e,l)=>{I(i=>({...i,status:e}))})}},[location]),g.useEffect(()=>{P||(localStorage.removeItem("search"),localStorage.removeItem("status"),localStorage.removeItem("currentId"),localStorage.removeItem("searchOption"),C(a=>({...a,search:null})),I(a=>({...a,status:c})),b("name"))},[location,P]);const[o,X]=g.useState({searchTags:null}),Y=[{id:"all",name:"All"},{id:"Technical Approved",name:"Technical Approved"},{id:"Non Technical Approved",name:"Non Technical Approved"},{id:"Form Filled",name:"Form Filled"},{id:"Agreement Sent",name:"Agreement Sent"},{id:"Interview Conducted",name:"Interview Conducted"},{id:"Not Approved",name:"Not Approved"},{id:"Rejected",name:"Rejected"}],A=(a,e)=>a==null?void 0:a.filter(l=>{var k,B,$,E,R,J,D,H,M;let i=!0;return e!=null&&e.status&&(l==null?void 0:l.status)!==(e==null?void 0:e.status)&&(i=!1),o!=null&&o.searchTags&&((k=l==null?void 0:l.subject_tags)!=null&&k.reduce((_,T)=>{var K;return T!=null&&T.toLowerCase().includes((K=o==null?void 0:o.searchTags)==null?void 0:K.toLowerCase())&&(_=!0),_},!1)||(i=!1)),h==="id"?e!=null&&e.search&&!(($=l==null?void 0:l.id)!=null&&$.toLowerCase().includes((B=e==null?void 0:e.search)==null?void 0:B.toLowerCase()))&&(i=!1):h==="name"?e!=null&&e.search&&!((R=l==null?void 0:l.name)!=null&&R.toLowerCase().includes((E=e==null?void 0:e.search)==null?void 0:E.toLowerCase()))&&(i=!1):h==="number"?e!=null&&e.search&&!((D=l==null?void 0:l.phone)!=null&&D.toLowerCase().includes((J=e==null?void 0:e.search)==null?void 0:J.toLowerCase()))&&(i=!1):h==="email"&&e!=null&&e.search&&!((M=l==null?void 0:l.email)!=null&&M.toLowerCase().includes((H=e==null?void 0:e.search)==null?void 0:H.toLowerCase()))&&(i=!1),i}),Z=(a,e)=>{U(e)},p=a=>{V(parseInt(a.target.value))},y=a=>{let e=null;a.target.value!=="all"&&(e=a.target.value),a.target.value==="all"&&(e=null),I(i=>({...i,status:e}));let l=JSON.stringify({status:a.target.value});localStorage.setItem("status",l)},O=A(t,w),r=A(O,x),aa=A(r,o),N=Ca(aa,j,d),ea=a=>{let e=null;a.target.value!==""&&(e=a.target.value),a.target.value===""&&(e=null),C(i=>({...i,search:e}));let l=JSON.stringify({search:a.target.value});localStorage.setItem("search",l),console.log(x)},na=a=>{let e=null;a.target.value!==""&&(e=a.target.value),a.target.value===""&&(e=null),X(l=>({...l,searchTags:e})),console.log(o)};return(s==null?void 0:s.length)>0&&(s==null?void 0:s.length)<(t==null?void 0:t.length),s==null||s.length,t==null||t.length,oa(),u(ma,{children:[W&&n(F,{flex:1,p:2,children:n(BulkActions,{})}),!W&&n(ga,{action:n(F,{width:250,display:"flex",justifyContent:"space-between",alignItems:"center",children:u(L,{fullWidth:!0,variant:"outlined",children:[n(ua,{children:"Status"}),n(ha,{value:(w==null?void 0:w.status)||"all",onChange:y,label:"Status",autoWidth:!0,children:Y.map(a=>n(wa,{value:a==null?void 0:a.id,children:a==null?void 0:a.name},a==null?void 0:a.id))})]})})}),u("div",{className:"flex md:flex-row flex-col items-center justify-between  py-4 ",children:[n("div",{className:"md:w-1/4 w-full",children:n(L,{variant:"outlined",fullWidth:!0,sx:{p:1},children:n(Q,{type:"text",value:(o==null?void 0:o.searchTags)||"",onChange:na,placeholder:"Search by subject tags here...",startAdornment:n(z,{position:"start",children:n(q,{})})})})}),n("div",{className:"md:w-3/4 w-full",children:n(L,{variant:"outlined",fullWidth:!0,sx:{p:1},children:n(Q,{type:"text",value:(x==null?void 0:x.search)||"",onChange:ea,placeholder:"Search freelancers here...",startAdornment:u(z,{position:"start",children:[n(q,{}),u("div",{className:"flex gap-2",children:[n(f,{sx:{cursor:"pointer"},onClick:()=>{b("id")},color:h==="id"?"success":"info",children:"ID"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{b("name")},color:h==="name"?"success":"info",children:"Name"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{b("number"),JSON.stringify(localStorage.setItem("searchOption","number"))},color:h==="number"?"success":"info",children:"Number"}),n(f,{sx:{cursor:"pointer"},onClick:()=>{b("email"),JSON.stringify(localStorage.setItem("searchOption","email"))},color:h==="email"?"success":"info",children:"Email"})]})]})})})})]}),n(ca,{}),n(va,{children:u(Sa,{children:[n(ba,{children:u(G,{children:[n(m,{children:"ID"}),n(m,{children:"Freelancer Name"}),n(m,{children:"Number"}),n(m,{children:"Email"}),n(m,{children:"Status"})]})}),n(xa,{children:N==null?void 0:N.map(a=>{const e=s==null?void 0:s.includes(a==null?void 0:a.id);return u(G,{hover:!0,selected:e,children:[n(m,{children:n(S,{component:"a",variant:"body1",fontWeight:"bold",gutterBottom:!0,noWrap:!0,onClick:()=>{v(`/team/management/profile/details/${a==null?void 0:a.id}`)},sx:{cursor:"pointer"},color:"#3f51b5",children:a==null?void 0:a.id})}),n(m,{children:n(S,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,sx:{maxWidth:"350px"},children:a==null?void 0:a.name})}),u(m,{sx:{display:"flex",flexDirection:"column"},children:[u(S,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,sx:{cursor:"pointer"},href:`tel: ${a==null?void 0:a.phone}`,children:[n(ta,{}),a==null?void 0:a.phone]}),u(S,{sx:{cursor:"pointer",display:"flex"},component:"a",variant:"body2",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`https://wa.me/${a==null?void 0:a.country_code}${a==null?void 0:a.whatsapp}?text=Hi%20I%20am%20interested%20in%20your%20services%20and%20would%20like%20to%20know%20more%20about%20it.`,children:[n("img",{src:"https://img.icons8.com/color/96/null/whatsapp--v1.png",width:"20px",height:"20px",alt:"whatsapp",className:"mr-2"}),n("span",{className:"mr-2",children:a==null?void 0:a.whatsapp})]})]}),n(m,{children:n(S,{component:"a",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,href:`mailto: ${a==null?void 0:a.email}`,children:a==null?void 0:a.email})}),n(m,{children:n(S,{variant:"body1",fontWeight:"bold",gutterBottom:!0,whiteSpace:"nowrap",children:(a==null?void 0:a.status)==="Technical Approved"||(a==null?void 0:a.status)==="Non Technical Approved"||(a==null?void 0:a.status)==="Not Approved"||(a==null?void 0:a.status)==="Form Filled"||(a==null?void 0:a.status)==="Agreement Sent"||(a==null?void 0:a.status)==="Rejected"||(a==null?void 0:a.status)==="Interview Conducted"?Ia(a==null?void 0:a.status):null})})]},a==null?void 0:a.id)})})]})}),n(F,{p:2,children:n(fa,{component:"div",count:t==null?void 0:t.length,onPageChange:Z,onRowsPerPageChange:p,page:j,rowsPerPage:d,rowsPerPageOptions:[5,10,25,30,50,75,100,200]})})]})}export{$a as F};
