import{b as J,a as C,c as X}from"./react-31052980.js";import{s as Z,ae as ee,af as te,ag as ne,ah as ae,ai as W,a3 as U,aj as re,ak as oe,al as se,am as ie,an as le}from"./main-1d195725.js";import{u as ue,_ as F,j as O,a as R}from"./index-a4114ef4.js";import{S as q,aP as H,aQ as $}from"./freelancerSlice-60742dc0.js";import{L as G}from"./loader-2-0dcaac2c.js";var A={},ce={get exports(){return A},set exports(T){A=T}};(function(T,S){(function(j,d){T.exports=d(C)})(typeof self<"u"?self:X,function(j){return function(d){var f={};function i(n){if(f[n])return f[n].exports;var l=f[n]={i:n,l:!1,exports:{}};return d[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=d,i.c=f,i.d=function(n,l,o){i.o(n,l)||Object.defineProperty(n,l,{enumerable:!0,get:o})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,l){if(1&l&&(n=i(n)),8&l||4&l&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&l&&typeof n!="string")for(var p in n)i.d(o,p,function(r){return n[r]}.bind(null,p));return o},i.n=function(n){var l=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(l,"a",l),l},i.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)},i.p="",i(i.s=0)}([function(d,f,i){Object.defineProperty(f,"__esModule",{value:!0});var n=Object.assign||function(w){for(var g=1;g<arguments.length;g++){var e=arguments[g];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(w[t]=e[t])}return w},l=function(){function w(g,e){for(var t=0;t<e.length;t++){var h=e[t];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}return function(g,e,t){return e&&w(g.prototype,e),t&&w(g,t),g}}(),o=i(1),p=N(o),r=N(i(2)),m=N(i(5)),M=i(6);function N(w){return w&&w.__esModule?w:{default:w}}var k=function(w){function g(e){(function(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")})(this,g);var t=function(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?x:y}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e)),h=e.fields,c=e.type,b=e.isValid,v=e.disabled,P=e.filterKeyCodes,_=e.forceUppercase,u=e.value;_&&(u=u.toUpperCase()),t.state={value:u,fields:h,type:c,input:[],isValid:b,disabled:v,filterKeyCodes:P,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var a=0;a<Number(t.state.fields);a+=1)if(a<32){var s=t.state.value[a]||"";t.state.input.push(s)}return t.textInput=[],t.uuid=(0,M.uuidv4)(),t}return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,o.Component),l(g,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isValid:e.isValid,value:e.value,disabled:e.disabled})}},{key:"handleBlur",value:function(e){this.handleTouch(e.target.value)}},{key:"handleTouch",value:function(e){var t=this.props,h=t.touch,c=t.untouch,b=t.name;typeof h=="function"&&typeof c=="function"&&(e===""?h(b):c(b))}},{key:"handleChange",value:function(e){var t=this,h=this.props.filterChars,c=String(e.target.value);this.props.forceUppercase&&(c=c.toUpperCase()),this.state.type==="number"&&(c=c.replace(/[^\d]/g,""));var b=c=c.split("").filter(function(_){return!h.includes(_)}).join("");if(c!==""){var v=this.state.input.slice();c.length>1?c.split("").map(function(_,u){return Number(e.target.dataset.id)+u<t.props.fields&&(v[Number(e.target.dataset.id)+u]=_),!1}):v[Number(e.target.dataset.id)]=c,v.map(function(_,u){return t.textInput[u]&&(t.textInput[u].value=_),!1});var P=this.textInput[e.target.dataset.id<v.length?Number(e.target.dataset.id)+1:e.target.dataset.id];P&&(P.focus(),P.select()),b=v.join(""),this.setState({value:v.join(""),input:v})}this.props.onChange&&b&&this.props.onChange(b),this.handleTouch(b)}},{key:"handleKeyDown",value:function(e){var t=Number(e.target.dataset.id),h=this.textInput[t+1],c=this.textInput[t-1],b=void 0,v=void 0;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map(function(P){if(P===e.keyCode)return e.preventDefault(),!0}),e.keyCode){case 8:e.preventDefault(),this.textInput[t].value="",(b=this.state.input.slice())[t]="",v=b.join(""),this.setState({value:v,input:b}),this.textInput[t].value===""&&c&&(c.focus(),c.select()),this.props.onChange&&this.props.onChange(v);break;case 37:e.preventDefault(),c&&(c.focus(),c.select());break;case 39:e.preventDefault(),h&&(h.focus(),h.select());break;case 38:case 40:e.preventDefault();break;case 69:if(e.target.type==="number"){e.preventDefault();break}}this.handleTouch(v)}},{key:"render",value:function(){var e=this,t=this.props,h=t.className,c=t.style,b=c===void 0?{}:c,v=t.inputStyle,P=v===void 0?{}:v,_=t.inputStyleInvalid,u=_===void 0?{}:_,a=t.type,s=t.autoFocus,x=t.pattern,y=t.inputMode,D=this.state,K=D.disabled,L=D.input,z=D.isValid,B=D.defaultInputStyle,V={container:b,input:z?P:u};return Object.assign(V.container,{display:"inline-block"}),h||Object.keys(P).length!==0||Object.assign(P,n({},B,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),h||Object.keys(u).length!==0||Object.assign(u,n({},B,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),K&&Object.assign(V.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),p.default.createElement("div",{className:(0,m.default)(h,"react-code-input"),style:V.container},L.map(function(Y,I){return p.default.createElement("input",{ref:function(E){e.textInput[I]=E},id:e.uuid+"-"+I,"data-id":I,autoFocus:s&&I===0?"autoFocus":"",value:Y,key:"input_"+I,type:a,min:0,max:9,maxLength:L.length===I+1?1:L.length,style:V.input,autoComplete:"off",onFocus:function(E){return E.target.select(E)},onBlur:function(E){return e.handleBlur(E)},onChange:function(E){return e.handleChange(E)},onKeyDown:function(E){return e.handleKeyDown(E)},disabled:K,"data-valid":z,pattern:x,inputMode:y})}))}}]),g}();k.defaultProps={autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."]},k.propTypes={type:r.default.oneOf(["text","number","password","tel"]),fields:r.default.number,value:r.default.string,onChange:r.default.func,name:r.default.string,touch:r.default.func,untouch:r.default.func,className:r.default.string,isValid:r.default.bool,disabled:r.default.bool,style:r.default.object,inputStyle:r.default.object,inputStyleInvalid:r.default.object,autoFocus:r.default.bool,forceUppercase:r.default.bool,filterKeyCodes:r.default.array,filterChars:r.default.array,pattern:r.default.string,inputMode:r.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},f.default=k},function(d,f){d.exports=j},function(d,f,i){d.exports=i(3)()},function(d,f,i){var n=i(4);function l(){}d.exports=function(){function o(m,M,N,k,w,g){if(g!==n){var e=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw e.name="Invariant Violation",e}}function p(){return o}o.isRequired=o;var r={array:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:p,element:o,instanceOf:p,node:o,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p};return r.checkPropTypes=l,r.PropTypes=r,r}},function(d,f,i){d.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(d,f,i){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var l={}.hasOwnProperty;function o(){for(var p=[],r=0;r<arguments.length;r++){var m=arguments[r];if(m){var M=typeof m;if(M==="string"||M==="number")p.push(m);else if(Array.isArray(m)&&m.length){var N=o.apply(null,m);N&&p.push(N)}else if(M==="object")for(var k in m)l.call(m,k)&&m[k]&&p.push(k)}}return p.join(" ")}d!==void 0&&d.exports?(o.default=o,d.exports=o):(n=function(){return o}.apply(f,[]))===void 0||(d.exports=n)})()},function(d,f,i){Object.defineProperty(f,"__esModule",{value:!0}),f.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var l=16*Math.random()|0;return(n==="x"?l:3&l|8).toString(16)})}}])})})(ce);const Q=J(A);function ve({validEmail:T,category:S}){var u;const j=q(),d=C.useRef(null),f=ue(Z),[i,n]=C.useState(!1),[l,o]=C.useState(!1),[p,r]=C.useState("00:00:00"),[m,M]=C.useState(""),[N,k]=C.useState(!1),[w]=ee(),[g]=te(),[e]=ne(),[t]=ae();C.useEffect(()=>{var a;(m==null?void 0:m.length)===4&&_(),((a=f==null?void 0:f.email_otp_verified)==null?void 0:a.email_otp_verified)!==1&&(o(!1),M(""))},[m,(u=f==null?void 0:f.email_otp_verified)==null?void 0:u.email_otp_verified]);const h=a=>{const s=Date.parse(a)-Date.parse(new Date),x=Math.floor(s/1e3%60),y=Math.floor(s/1e3/60%60),D=Math.floor(s/1e3/60/60%24);return{total:s,hours:D,minutes:y,seconds:x}},c=a=>{let{total:s,hours:x,minutes:y,seconds:D}=h(a);s>=0&&r((x>9?x:"0"+x)+":"+(y>9?y:"0"+y)+":"+(D>9?D:"0"+D))},b=a=>{r("00:05:00"),d.current&&clearInterval(d.current);const s=setInterval(()=>{c(a)},1e3);d.current=s},v=()=>{let a=new Date;return a.setSeconds(a.getSeconds()+300),a},P=()=>{b(v())},_=()=>{const a={email:T,otp:m};S?t(a).then(s=>{s.data.status==200?(k(!0),S=="technical"?(r("00:00:00"),j(H({email_verified:1}))):S=="non_technical"&&(r("00:00:00"),j($({email_verified:1}))),F.success(s.data.message),o(!0)):(k(!1),F.error(s.data.message),o(!1))}):g(a).then(s=>{s.data.status==200?(r("00:00:00"),j(W({email_otp_verified:1})),F.success(s.data.message),o(!0)):(F.error(s.data.message),o(!1))})};return O("div",{className:`flex flex-row items-center justify-between max-w-lg mx-auto py-2 ${l?"hidden":""}`,children:R("div",{className:"flex flex-col items-center ",children:[i?O(U,{variant:"contained",sx:{borderRadius:"1000px",backgroundColor:"green",color:"white",height:"100%","&:hover":{backgroundColor:"#fff",color:"#000"}},children:R("div",{role:"status",className:"flex items-center justify-center gap-2",children:[O(G,{size:20,className:"animate-spin"}),O("span",{className:"capitalize",children:"Please wait..."})]})}):R(U,{variant:"contained",onClick:async()=>{n(!0),S?await e({email:T,category:S}).then(s=>{console.log(s),P(),F.success("OTP sent to your email address"),n(!1)}):await w(T).then(s=>{console.log(s),P(),F.success("OTP sent to your email address"),n(!1)})},disabled:!T||p!=="00:00:00",sx:{borderRadius:"1000px",backgroundColor:"green",color:"white",height:"100%","&:hover":{backgroundColor:"#fff",color:"#000"}},children:[O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mx-1",children:O("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),"Send OTP"]}),p!=="00:00:00"&&R("h2",{children:["Resend OTP in ",O("span",{className:"text-red-500",children:p})]}),O("span",{className:"pt-5",children:O(Q,{type:"text",fields:4,disabled:!T,isValid:!!N,onChange:a=>{M(a)}})})]})})}function ye({phone:T,phoneNumber:S,category:j}){const d=q(),f=C.useRef(null),[i,n]=C.useState(!1),[l,o]=C.useState(!1),[p,r]=C.useState("00:00:00"),[m,M]=C.useState(""),[N,k]=C.useState(!1),[w]=re(),[g]=oe(),[e]=se(),[t]=ie();C.useEffect(()=>{(m==null?void 0:m.length)===4&&_()},[m]);const h=u=>{const a=Date.parse(u)-Date.parse(new Date),s=Math.floor(a/1e3%60),x=Math.floor(a/1e3/60%60),y=Math.floor(a/1e3/60/60%24);return{total:a,hours:y,minutes:x,seconds:s}},c=u=>{let{total:a,hours:s,minutes:x,seconds:y}=h(u);a>=0&&r((s>9?s:"0"+s)+":"+(x>9?x:"0"+x)+":"+(y>9?y:"0"+y))},b=u=>{r("00:05:00"),f.current&&clearInterval(f.current);const a=setInterval(()=>{c(u)},1e3);f.current=a},v=()=>{let u=new Date;return u.setSeconds(u.getSeconds()+300),u},P=()=>{b(v())},_=()=>{const u={number:S,otp:m};j?t(u).then(a=>{var s;((s=a==null?void 0:a.data)==null?void 0:s.status)==200?(k(!0),j=="technical"?(r("00:00:00"),d(H({number_verified:1}))):j=="non_technical"&&(r("00:00:00"),d($({number_verified:1}))),F.success("Phone OTP verified"),o(!0)):(F.error("Phone OTP not verified"),o(!1))}):g(u).then(a=>{var s;((s=a==null?void 0:a.data)==null?void 0:s.status)==200?(r("00:00:00"),d(W({number_verified:1})),F.success("Phone OTP verified"),o(!0)):(k(!1),F.error("Phone OTP not verified"),o(!1))})};return O("div",{className:`flex flex-row items-center justify-between max-w-lg mx-auto py-2 ${l?"hidden":""}`,children:R("div",{className:"flex flex-col items-center  ",children:[i?O(U,{variant:"contained",sx:{borderRadius:"1000px",backgroundColor:"green",color:"white",height:"100%","&:hover":{backgroundColor:"#fff",color:"#000"}},children:R("div",{role:"status",className:"flex items-center justify-center gap-2",children:[O(G,{size:20,className:"animate-spin"}),O("span",{className:"capitalize",children:"Please wait..."})]})}):R(U,{variant:"contained",onClick:async()=>{n(!0),j?await e({number:S,category:j}).then(a=>{console.log(a),P(),F.success("OTP sent to your phone number"),n(!1)}):await w(S).then(a=>{console.log(a),P(),F.success("OTP sent to your phone number"),n(!1)})},sx:{borderRadius:"1000px",backgroundColor:"green",color:"white",height:"100%","&:hover":{backgroundColor:"#fff",color:"#000"}},disabled:T<12||p!=="00:00:00",children:[O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:O("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),"Send OTP"]}),p!=="00:00:00"&&R("h2",{children:["Resend OTP in ",O("span",{className:"text-red-500",children:p})]}),O("span",{className:"pt-5",children:O(Q,{type:"text",fields:4,disabled:T<12,isValid:!!N,onChange:u=>{M(u)}})})]})})}const de=le.injectEndpoints({endpoints:T=>({technicalFreelancerSignUp:T.mutation({query:S=>({url:"/freelancer/freelancersignuptechnical.php",method:"POST",body:{...S}})}),nonTechnicalFreelancerSignUp:T.mutation({query:S=>({url:"freelancer/freelancersignupnontechnical.php",method:"POST",body:{...S}})}),writerFreelancerSignUp:T.mutation({query:S=>({url:"freelancer/freelacnersignupwriter.php",method:"POST",body:{...S}})})})}),{useTechnicalFreelancerSignUpMutation:be,useNonTechnicalFreelancerSignUpMutation:xe,useWriterFreelancerSignUpMutation:Oe}=de;export{ve as O,ye as a,xe as b,be as u};
