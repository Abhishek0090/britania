import{a as w}from"./react-31052980.js";import{m as U,a9 as D,aa as N,ab as ee,V as re,ac as te,ad as q,d as ne,U as ae}from"./main-1d195725.js";import{u as le,_ as s,j as n,F as P,a}from"./index-a4114ef4.js";import{S as ie,am as oe,b7 as se,aP as de,aK as c,aL as p,aM as f,an as ce,ao as h,aO as me}from"./freelancerSlice-60742dc0.js";import{u as ue,O as Z,a as G}from"./freelancerApiSlice-d2e4ab83.js";import{d as he}from"./Check-4e30e71a.js";import{d as pe}from"./chevron-left-00fe92ff.js";import{R as fe,a as W}from"./RadioGroup-a75dd518.js";import"./TextField-d5ff1ee4.js";import"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";import"./loader-2-0dcaac2c.js";import"./FormGroup-e9548f89.js";const xe=q.default?q.default:q,be=ce({email:h().email("Please enter a valid email address").required("Please enter your email address"),firstname:h().required("Please enter your first name"),lastname:h().required("Please enter your last name"),address:h().required("Please enter your address"),street:h().required("Please enter your street address"),city:h().required("Please enter your city"),state:h().required("Please enter your state"),gender:h().required("Gender is required"),pincode:h().min(6,"Pincode must be 6 digits").max(6,"Pincode must be 6 digits").required("Please enter your pincode").matches(/^[0-9]+$/,"Only numbers are allowed for this field "),whatsapp:h().required("Please enter your whatsapp number").min(10,"Please enter a valid whatsapp number").max(12,"Please enter a valid whatsapp number"),terms:me().oneOf([!0],"Please accept our terms and conditions")});function Ie(){var R,I,L,j,A,E,O,$,T,V,z,M;const F=ie(),d=pe(),r=le(t=>t.freelancer.technicalFreelancerFormData),[_,k]=w.useState(!1),[x,B]=w.useState(!0),[v,H]=w.useState("India"),[m,K]=w.useState("91"),[S,J]=w.useState(10),[Q]=ue(),e=oe({enableReinitialize:!0,initialValues:{showPassword:!1,firstname:"",lastname:"",email:"",phone:"",whatsapp:"",country_name:"",country_code:"",gender:"",address:"",street:"",city:"",state:"",pincode:"",terms:!1},onSubmit:async t=>{var o;k(!0),await Q({...r,firstname:t==null?void 0:t.firstname,lastname:t==null?void 0:t.lastname,email:t==null?void 0:t.email,country_name:v,country_code:m,number:(o=t==null?void 0:t.phone)==null?void 0:o.replace(m,""),whatsapp:t==null?void 0:t.whatsapp,gender:t==null?void 0:t.gender,terms:t==null?void 0:t.terms,address:t==null?void 0:t.address,street:t==null?void 0:t.street,city:t==null?void 0:t.city,state:t==null?void 0:t.state,pincode:t==null?void 0:t.pincode,submit:"submit"}).unwrap().then(l=>{console.log("res",l),(l==null?void 0:l.status)===200?(localStorage.clear(),F(se()),s.success(l==null?void 0:l.message),d("/",{replace:!0})):s.error(l==null?void 0:l.message)}).catch(l=>{console.log("err",l)}),k(!1)},validationSchema:be}),X=()=>{if((r==null?void 0:r.domains)===null){s.error("Please fill previous form first"),d("/freelance/step3");return}else if((r==null?void 0:r.role)===null){s.error("Please fill previous form first"),d("/freelance/step2");return}else if((r==null?void 0:r.assignment_type)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step1");return}else if((r==null?void 0:r.qualification)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step1");return}else if((r==null?void 0:r.working_hours)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step1");return}else if((r==null?void 0:r.subject_tags)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step1");return}else if((r==null?void 0:r.past_work_files)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step1");return}else if((r==null?void 0:r.past_experience)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step2");return}else if((r==null?void 0:r.work_links)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step2");return}else if((r==null?void 0:r.linkedin)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step2");return}else if((r==null?void 0:r.resume)===null){s.error("Please fill previous form first"),d("/freelance/freelancer/technical/step3");return}else{d("/freelance/freelancer/technical/personalDetails");return}},Y=()=>{var o,l,b;let t={email:(o=e.values)==null?void 0:o.email,email_verified:r==null?void 0:r.email_verified,country_name:v,country_code:Number(m),number:Number((b=(l=e==null?void 0:e.values)==null?void 0:l.phone)==null?void 0:b.replace(m,"")),number_verified:v==="India"?r==null?void 0:r.number_verified:1,role:r==null?void 0:r.role};ne.post(`${ae}/freelancer/freelancersignupcheck.php`,t,{headers:{"Content-Type":"application/json"}}).then(i=>{var C,y,g;((C=i==null?void 0:i.data)==null?void 0:C.status)===200?s.success((y=i==null?void 0:i.data)==null?void 0:y.message):(s.error((g=i==null?void 0:i.data)==null?void 0:g.message),d("/",{replace:!0})),B(!1),console.log(i==null?void 0:i.data)}).catch(i=>{B(!1),console.log(i)})},u=t=>{if(e.errors[t]){s.error(e.errors[t]);return}e.setFieldValue(t,e.values[t])};return w.useEffect(()=>{X()},[]),w.useEffect(()=>{(window.onbeforeunload=function(){return!0})&&F(de({...r,email_verified:null,number_verified:null}))},[]),n(P,{children:n("div",{className:` max-w-3xl mx-auto  backdrop-blur-2xl  drop-shadow shadow-2xl rounded-xl py-10   ${x?"md:my-20 pb-36":"md:my-10 pb-0"}`,children:n("div",{className:"flex flex-col px-10 rounded-lg ",children:a("div",{className:"p-5",children:[a("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-left text-gray-900 ",children:[x?"Contact ":"Personal "," Details"]}),a("form",{onSubmit:e.handleSubmit,children:[a(P,{children:[a("div",{className:"flex flex-col items-center md:flex-row",children:[a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,disabled:!x||(r==null?void 0:r.email_verified)===1,children:[n(p,{htmlFor:"outlined-adornment-email",children:"Email"}),n(f,{error:e.errors.email&&e.touched.email,required:!0,type:"email",name:"email",id:"email",autoComplete:"on",label:"Email",sx:{borderRadius:"1000px"},value:e.values.email,onChange:e.handleChange("email"),onBlur:()=>u("email")})]}),n("div",{className:"md:hidden block",children:x?n(Z,{category:"technical",validEmail:e.values.email.length>0&&e.values.email.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}):null}),n(c,{sx:{m:1,width:"34ch"},children:n(xe,{country:"in",inputStyle:{background:"none",borderRadius:"1000px",border:"1px solid #C4C4C4"},isValid:(t,o)=>{var C,y;let l=(C=o==null?void 0:o.format)==null?void 0:C.split(" "),b=(y=l==null?void 0:l.slice(1,l==null?void 0:l.length))==null?void 0:y.join(""),i=[];for(let g=0;g<(b==null?void 0:b.length);g++)b[g]==="."&&i.push(b[g]);return J(i==null?void 0:i.length),H(o==null?void 0:o.name),K(o==null?void 0:o.countryCode),t.length<10?!1:t.match(/12345/)?"Invalid value: "+t+", "+(o==null?void 0:o.name):!t.match(/1234/)},copyNumbersOnly:!0,showDropdown:!1,value:e.values.phone,onChange:t=>e.setFieldValue("phone",t),onBlur:e.handleBlur("phone"),error:Boolean(e.errors.phone),disabled:!x})}),n("div",{className:"md:hidden block",children:x?n(P,{children:m==="91"?n(G,{category:"technical",phone:(R=e.values.phone)==null?void 0:R.length,phoneNumber:(L=(I=e.values)==null?void 0:I.phone)==null?void 0:L.replace(m,"")}):n("div",{className:"h-28"})}):null})]}),a("div",{className:"flex justify-center items-center gap-x-28",children:[a("div",{className:"hidden md:block ",children:[n("div",{className:"w-40"}),n(Z,{category:"technical",validEmail:e.values.email.length>0&&e.values.email.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)})]}),a("div",{className:"hidden md:block",children:[n("div",{className:"w-32"}),m==="91"?n(G,{category:"technical",phone:(j=e.values.phone)==null?void 0:j.length,phoneNumber:(E=(A=e.values)==null?void 0:A.phone)==null?void 0:E.replace(m,"")}):n("div",{className:"h-28 w-40"})]})]}),x?n("div",{className:"flex items-center justify-center",children:n(U,{disabled:v==="India"?!((r==null?void 0:r.email_verified)===1&&(r==null?void 0:r.number_verified)===1&&((T=($=(O=e==null?void 0:e.values)==null?void 0:O.phone)==null?void 0:$.replace(m,""))==null?void 0:T.length)===S):!((r==null?void 0:r.email_verified)===1&&((M=(z=(V=e==null?void 0:e.values)==null?void 0:V.phone)==null?void 0:z.replace(m,""))==null?void 0:M.length)===S),loading:_,onClick:()=>Y(),startIcon:n(he,{}),variant:"contained",color:"primary",sx:{bgcolor:"#2956A8",color:"#fff",mt:2,mb:2,py:2,width:"38ch",borderRadius:"1000px","&:hover":{backgroundColor:"#fff",color:"#000"}},children:"Confirm"})}):null]}),x?null:a(P,{children:[a("div",{className:"flex flex-col items-center md:flex-row",children:[a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"First Name"}),n(f,{autoFocus:!0,error:e.errors.firstname&&e.touched.firstname,required:!0,id:"name",sx:{borderRadius:"1000px"},value:e.values.firstname,onChange:e.handleChange("firstname"),onBlur:()=>u("firstname"),type:"text",label:"First Name"})]}),a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"Last Name"}),n(f,{error:e.errors.lastname&&e.touched.lastname,required:!0,sx:{borderRadius:"1000px"},value:e.values.lastname,onChange:e.handleChange("lastname"),onBlur:()=>u("lastname"),type:"text",label:"Last Name"})]})]}),a("div",{className:"flex flex-col items-center md:flex-row",children:[a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"Whatsapp Number"}),n(f,{max:10,error:e.errors.whatsapp&&e.touched.whatsapp,required:!0,sx:{borderRadius:"1000px"},value:e.values.whatsapp,onChange:e.handleChange("whatsapp"),onBlur:()=>u("whatsapp"),type:"number",label:"Whatsapp Number",startAdornment:n(D,{position:"start",children:n("img",{src:"https://img.icons8.com/color/48/null/whatsapp--v1.png"})})})]}),n(c,{variant:"outlined",required:!0,sx:{m:1,width:"34ch",ml:3},children:a(fe,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:e.values.gender,onChange:e.handleChange("gender"),onBlur:()=>handleBlur("gender"),children:[n(N,{value:"Female",control:n(W,{}),label:"Female"}),n(N,{value:"Male",control:n(W,{}),label:"Male"})]})})]}),a("div",{className:"flex flex-col items-center md:flex-row",children:[a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"Address"}),n(f,{error:e.errors.address&&e.touched.address,required:!0,sx:{borderRadius:"1000px"},value:e.values.address.address,onChange:e.handleChange("address"),onBlur:()=>u("address"),type:"text",label:"Address"})]}),a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"Street"}),n(f,{error:e.errors.street&&e.touched.street,required:!0,sx:{borderRadius:"1000px"},value:e.values.street,onChange:e.handleChange("street"),onBlur:()=>u("street"),type:"text",label:"Street"})]})]}),a("div",{className:"flex flex-col items-center md:flex-row",children:[a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"City"}),n(f,{error:e.errors.city&&e.touched.city,required:!0,sx:{borderRadius:"1000px"},value:e.values.city,onChange:e.handleChange("city"),onBlur:()=>u("city"),type:"text",label:"City"})]}),a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"State"}),n(f,{error:e.errors.state&&e.touched.state,required:!0,sx:{borderRadius:"1000px"},value:e.values.state,onChange:e.handleChange("state"),onBlur:()=>u("state"),type:"text",label:"State"})]}),a(c,{sx:{m:1,width:"34ch"},variant:"outlined",required:!0,children:[n(p,{htmlFor:"outlined-adornment-name",children:"Pincode"}),n(f,{error:e.errors.pincode&&e.touched.pincode,required:!0,sx:{borderRadius:"1000px"},value:e.values.pincode,onChange:e.handleChange("pincode"),onBlur:()=>u("pincode"),type:"text",label:"Pincode"})]})]}),n("div",{className:"flex  items-center justify-center",children:n(N,{sx:{mb:1,mt:4,width:"34ch"},control:n(ee,{error:e.errors.terms&&e.touched.terms,checked:e.values.terms,onChange:e.handleChange("terms"),onBlur:()=>u("terms"),name:"terms",sx:{color:"#6F9CEB","&.Mui-checked":{color:"#6F9CEB"}}}),label:n("span",{className:"text-sm text-left text-gray-400 flex flex-col ",children:a("span",{children:["I agree to the"," ",n(re,{to:"/terms",className:"text-blue-500",children:"Terms and Conditions"})]})})})}),n("div",{className:"flex items-center justify-center",children:n(U,{onClick:e.handleSubmit,loading:_,variant:"contained",color:"primary",type:"submit",startIcon:n(te,{}),sx:{bgcolor:"#2956A8",color:"#fff",mt:2,mb:2,py:2,width:"38ch",borderRadius:"1000px","&:hover":{backgroundColor:"#fff",color:"#000"}},children:"Sign up"})})]})]})]})})})})}export{Ie as default};
