import{a8 as R,d as P,U as $}from"./main-1d195725.js";import{a as l}from"./react-31052980.js";import{d as K}from"./chevron-left-00fe92ff.js";import{u as Q,j as t,F as W,a as _,_ as D}from"./index-a4114ef4.js";import{C as E}from"./Checkboxes-507bb5f0.js";import{S as Y,aP as b}from"./freelancerSlice-60742dc0.js";import ee from"./PersonalDetails-c82944f8.js";import"./TextField-d5ff1ee4.js";import"./MenuItem-030e42a2.js";import"./trash-6f040b71.js";import"./arrow-right-circle-12522627.js";import"./freelancerApiSlice-d2e4ab83.js";import"./loader-2-0dcaac2c.js";import"./Check-4e30e71a.js";import"./RadioGroup-a75dd518.js";import"./FormGroup-e9548f89.js";const te=l.lazy(()=>R(()=>import("./Speciality-15221beb.js"),["assets/Speciality-15221beb.js","assets/react-31052980.js","assets/TextField-d5ff1ee4.js","assets/index-a4114ef4.js","assets/freelancerSlice-60742dc0.js","assets/Tags-651fa0a7.js","assets/Autocomplete-9f58a83a.js","assets/circle-e0351cb4.js","assets/loader-2-0dcaac2c.js","assets/trash-6f040b71.js"])),ae=l.lazy(()=>R(()=>import("./Experience-0365d791.js"),["assets/Experience-0365d791.js","assets/react-31052980.js","assets/index-a4114ef4.js","assets/freelancerSlice-60742dc0.js","assets/chevron-left-00fe92ff.js","assets/MenuItem-030e42a2.js"])),re=l.lazy(()=>R(()=>import("./Resume-3a1dc9aa.js"),["assets/Resume-3a1dc9aa.js","assets/react-31052980.js","assets/index-a4114ef4.js","assets/chevron-left-00fe92ff.js","assets/loader-2-0dcaac2c.js","assets/trash-6f040b71.js","assets/arrow-right-circle-12522627.js"])),le=5,se=1,B=5242880;function ke(){const h=Y();let u=Q(a=>a.freelancer.technicalFreelancerFormData);const[A,z]=l.useState([]),[y,v]=l.useState([]),[ne,w]=l.useState(!1),[C,i]=l.useState(!1),[S,J]=l.useState([]),[N,oe]=l.useState("Technical"),[s,ie]=l.useState(3),[L,V]=l.useState(null),[k,X]=l.useState(null),x=K();l.useEffect(()=>{if(localStorage.getItem("form")){let a=JSON.parse(localStorage.getItem("form"));J([...a[1].Step2.split(",")]),h(b({domains:a[1].Step2.split(",").toString()}))}else window.alert("Please fill the form from the beginning"),x("/freelance/step2")},[]);const H=async a=>{let r=[...A],o=!1;i(!0),a.forEach(e=>{if(r.length<le){if(e.size>B){D.error("File size is too large"),i(!1);return}r.push(e)}else o=!0}),z(r);let n=JSON.parse(localStorage.getItem("random_number_past_work")?localStorage.getItem("random_number_past_work"):L),p={past_work_files:r,submit:"submit",random_number:n||L};await P.post(`${$}/freelancer/fileuploadpastworkfiles.php`,p,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{var m,d,c;V((m=e==null?void 0:e.data)==null?void 0:m.random_number),localStorage.setItem("random_number_past_work",(d=e==null?void 0:e.data)==null?void 0:d.random_number),h(b({past_work_files:(c=e==null?void 0:e.data)==null?void 0:c.file_name_string}))}).catch(e=>{console.log(e)}),i(!1),w(!!o)},Z=async a=>{let r=[...y],o=!1;i(!0),a.forEach(e=>{if(r.length<se){if(e.size>B){D.error("File size is too large"),i(!1);return}r.push(e)}else o=!0}),v(r);let n=JSON.parse(localStorage.getItem("random_number_resume")?localStorage.getItem("random_number_resume"):k),p={resume:r,submit:"submit",random_number:n||k};await P.post(`${$}/freelancer/fileuploadresume.php`,p,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{var m,d,c,g;X((m=e==null?void 0:e.data)==null?void 0:m.random_number),localStorage.setItem("random_number_resume",(d=e==null?void 0:e.data)==null?void 0:d.random_number),h(b({resume:(c=e==null?void 0:e.data)==null?void 0:c.file_name_string,resume_random_number:(g=e==null?void 0:e.data)==null?void 0:g.random_number}))}).catch(e=>{console.log(e)}),i(!1),w(!!o)},G=a=>{var m,d,c,g,O,j,q,M;let r=JSON.parse(localStorage.getItem("random_number_resume")?localStorage.getItem("random_number_resume"):k),o=a.split(`${r}`)[1],n=[...y],p=n.findIndex(f=>f===o);if(p===-1){let f=(g=(c=(d=(m=u==null?void 0:u.resume)==null?void 0:m.split("_$_"))==null?void 0:d.filter(F=>F!==""))==null?void 0:c.filter(F=>F!==a))==null?void 0:g.join("_$_");h(b({resume:f}))}n.splice(p,1);let e=(M=(q=(j=(O=u==null?void 0:u.resume)==null?void 0:O.split("_$_"))==null?void 0:j.filter(f=>f!==""))==null?void 0:q.filter(f=>f!==a))==null?void 0:M.join("_$_");h(b({resume:e})),v(n)},I=[];S.forEach(a=>{var o;let r=E.findIndex(n=>n.name===a);(o=E[r])==null||o.checkboxes.forEach(n=>{I.includes(n.name)||I.push(n.name)})});const T=()=>{s===1&&x("/freelance/freelancer/technical/step2"),s===2&&x("/freelance/freelancer/technical/step3")},U=()=>{s===2&&x("/freelance/freelancer/technical/step1"),s===3&&x("/freelance/freelancer/technical/step2")};return t(W,{children:s===4?t(l.Suspense,{fallback:t("div",{}),children:t(ee,{})}):_("div",{className:" backdrop-blur-2xl  drop-shadow shadow-2xl rounded-xl py-10 md:my-10 flex-col bg-white bg-opacity-20  max-w-[70rem] mt-8 mb-6 mx-auto flex   px-5 md:px-0  items-center",children:[" ",t("div",{className:" flex flex-col items-center justify-center gap-x-1 gap-y-1 md:flex-row flex-wrap",children:S==null?void 0:S.filter(a=>E.map(r=>r.name).includes(a)).map((a,r)=>t("div",{className:" max-w-[65rem] mx-auto flex md:flex-row flex-col px-2 md:px-0 justify-between items-center",children:t("button",{className:"flex-col max-w-sm px-10 bg-white border border-gray-200 rounded-lg shadow-2xl  backdrop-blur-3xl",children:t("h5",{className:"py-1 text-xl font-bold tracking-tight text-gray-900",children:a})})},r))}),_("ol",{className:"mt-10 flex items-center md:w-[50rem] w-[20rem] text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base",children:[t("li",{style:{color:s===1?"#2956A8":"#9CA3AF"},className:"flex md:w-full items-center   sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700",children:_("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[s===1?t("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:t("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):t("span",{className:"mr-2",children:"1"}),"Speciality"]})}),t("li",{style:{color:s===2?"#2956A8":"#9CA3AF"},className:"flex md:w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700",children:t("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:_("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[s===2?t("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:t("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):t("span",{className:"mr-2",children:"2"}),"Experience"]})})}),t("li",{style:{color:s===3?"#2956A8":"#9CA3AF"},className:"flex items-center",children:_("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:font-light after:text-gray-200 dark:after:text-gray-500",children:[s===3?t("svg",{"aria-hidden":"true",className:"w-4 h-4 mr-2 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:t("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):t("span",{className:"mr-2",children:"3"}),"Resume"]})})]}),s===1&&t(l.Suspense,{fallback:t("div",{}),children:t(te,{nextStepHandler:T,loading:C,setLoading:i,uploadedFiles:A,handleUploadFiles:H,setUploadedFiles:z,relevantCheckboxes:I,role:N})}),s===2&&t(l.Suspense,{fallback:t("div",{}),children:t(ae,{prevStepHandler:U,nextStepHandler:T,role:N})}),s===3&&t(l.Suspense,{fallback:t("div",{}),children:t(re,{handleUploadResume:Z,resumeFiles:y,setResumeFiles:v,prevStepHandler:U,loading:C,setLoading:i,role:N,handleDeleteFile:G})})]})})}export{ke as default};
